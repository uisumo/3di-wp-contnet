<?php
/**
 * Copyright (c) 2012-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 */

 class_exists( 'm4is_emz57o' ) || die(); current_user_can( 'manage_options' ) || wp_die( __( 'You do not have sufficient permissions to access this page.' ) );  echo '<div class="wrap">'; echo '<h1>Memberium Membership Settings</h1>'; echo '<h3>Current Membership Levels', m4is__95_::m4is_d6u3(1222 ), '</h3>'; echo '<div style="width:90%;">'; echo '<p>'; echo 'These are the membership levels you have already set up, click the name of a membership level below to edit it or click the "Create New Membership Level" button to add a new membership level.'; echo '</p>'; echo '<hr />'; echo '<form method="POST" action="">'; echo '<input type="submit" name="main_action" value="Update Levels" style="position:absolute;left:-100%;" />'; echo '<table class="widefat" style="white-space:nowrap;">'; echo '<tr style="background-color:#eee">'; echo '<th style="width:50px;"></th>'; echo '<th style="width:250px;"><strong>Level&nbsp;Name</strong></th>'; echo '<th><strong>Tag</strong></th>'; echo '<th style="width:75px;"><strong>Level</strong></th>'; echo '<th style="width:75px;"><strong>Login Priority</strong></th>'; echo '<th><strong>Homepage</strong></th>'; echo '<th></th>'; echo '</tr>'; $m4is_fdf0v = (array) memberium_app()->m4is_mmdrl('memberships'); $m4is_ijivc = count($m4is_fdf0v ); $m4is_g8ojt = memberium_app()->m4is_ee0h(false ); $m4is_g8ojt = $m4is_g8ojt['mc']; if ($m4is_ijivc == 0 ) { echo '<tr><td colspan="99">You have no membership levels created.</td></tr>'; } else { foreach ($m4is_fdf0v as $m4is_b40e_m => $m4is_tyoak ) { $m4is_p1tdv = wp_get_theme($m4is_tyoak['theme'] ); $m4is_pgsbl = get_post($m4is_tyoak['login_page'] ); $m4is_jb8ou = empty($m4is_pgsbl->post_title ) ? '(Default)' : $m4is_pgsbl->post_title; $m4is__xysg = $m4is_tyoak['login_page'] > 0 ? ' (' . $m4is_tyoak['login_page'] . ')' : ''; $m4is_k4nl_ = ! empty($m4is_g8ojt[$m4is_b40e_m]['name'] ) ? $m4is_g8ojt[$m4is_b40e_m]['name'] . ' (' . $m4is_b40e_m . ')' : '<em>Tag Missing</em>'; $m4is_k4nl_ = ! empty($m4is_g8ojt[$m4is_b40e_m] ) ? $m4is_g8ojt[$m4is_b40e_m] . ' (' . $m4is_b40e_m . ')' : '<em>Tag Missing</em>'; $m4is_tyoak['level'] = isset($m4is_tyoak['level'] ) ? $m4is_tyoak['level'] : 0; $m4is_tyoak['login_redirect_priority'] = isset($m4is_tyoak['login_redirect_priority'] ) ? $m4is_tyoak['login_redirect_priority'] : 0; echo '<tr>'; echo '<td><a class="button-secondary" href="?page=', $_GET['page'], '&action=edit&id=', $m4is_b40e_m, '">Edit</a></td>'; echo '<td><strong><a href="?page=', $_GET['page'], '&action=edit&id=', $m4is_b40e_m, '">', $m4is_tyoak['name'], '</a></strong></td>'; echo '<td>', $m4is_k4nl_, '</td>'; echo '<td><input type=number min=0 max=99999 maxlength=6 name="level[', $m4is_b40e_m, ']" value="', (int) $m4is_tyoak['level'], '" style="width:80px;"></td>'; echo '<td><input type=number min=0 max=99999 maxlength=6 name="login_redirect_priority[', $m4is_b40e_m, ']" value="', (int) $m4is_tyoak['login_redirect_priority'], '" style="width:80px;"></td>'; if (is_object($m4is_pgsbl ) ) { echo '<td><a href="', get_permalink($m4is_pgsbl->ID ), '">', $m4is_jb8ou, $m4is__xysg, '</a></td>'; } else { echo '<td>(Default)</td>'; } echo '<td>', get_submit_button('Delete', 'delete', 'main_action[' . $m4is_b40e_m . ']', false ); '</td>'; echo '</tr>'; } } unset($m4is_p1tdv ); echo '</table>';  echo '<p>'; echo '<a href="?page=memberium-memberships&action=add" class="button-primary">Create New Membership Level</a> &nbsp; '; if (count($m4is_fdf0v ) ) { echo '<input type="submit" name="main_action" value="Update Membership Levels" class="button-primary" />'; } echo '</form>'; echo '<hr />';  $m4is_ioxk = 'SELECT id, name FROM ' . MEMBERIUM_DB_CONTACTGROUPCATEGORIES . ' WHERE appname = %s ORDER BY name ASC'; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $this->appname ); $m4is_rz1a6 = $wpdb->get_results($m4is_ioxk, ARRAY_A ); $m4is_qg_coq = array_filter(explode(',', memberium_app()->m4is_mmdrl('settings', 'ignore_tag_categories') ) ); $m4is_es_ut = ''; foreach ($m4is_rz1a6 as $tag_category) { $m4is_es_ut .= '<option value="' . $tag_category['id'] . '">' . $tag_category['name'] . '</option>'; } $m4is_es_ut .= '<option value="0" selected="selected">(None)</option>'; unset($m4is_ioxk, $m4is_rz1a6, $m4is_qg_coq );
