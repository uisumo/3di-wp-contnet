<?php
/**
 * Copyright (c) 2012-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); m4is_n2_bj::m4is_gopgz(); final 
class m4is_n2_bj { static private $m4is_bxv7u, $m4is_sqpu, $m4is_p0_7, $m4is_j59w7v; const DEV_UPDATE_URL = 'https://licenseserver.webpowerandlight.com/memberium-is/current-version.php'; const PLUGIN_FULLSLUG = 'memberium2/memberium2.php'; const PLUGIN_HOME = MEMBERIUM_HOME; const PLUGIN_SLUG = 'memberium2'; const PLUGIN_UPDATE_URL = 'https://licenseserver.webpowerandlight.com/memberium-is/current-version.php'; const PLUGIN_URL = 'https://memberium.com/'; const PRODUCTION_UPDATE_URL = 'https://licenseserver.webpowerandlight.com/memberium-is/current-version.php'; const UPDATE_ID = 31415926547; private 
function __construct() {}  static 
function m4is_gopgz() { self::$m4is_bxv7u = memberium_app(); self::$m4is_p0_7 = 'memberium2/memberium2.php'; self::$m4is_j59w7v = 31415926547; self::$m4is_sqpu = 'https://licenseserver.webpowerandlight.com/memberium-is/current-version.php'; }  static 
function m4is_m7e2() : string { self::m4is_cq_bd(); return get_option('memberium/updater/version', 0); }  static 
function m4is_lt9hn() : string { $m4is_xqr1mu = function_exists('wp_get_environment_type') ? wp_get_environment_type() : 'production';  $m4is_u30i = [ 'local' => self::DEV_UPDATE_URL, 'development' => self::DEV_UPDATE_URL, 'staging' => self::PRODUCTION_UPDATE_URL, 'production' => self::PRODUCTION_UPDATE_URL, ]; $m4is__mto = isset($m4is_u30i[$m4is_xqr1mu]) ? $m4is_u30i[$m4is_xqr1mu] : PRODUCTION_UPDATE_URL; $m4is_hsyp0 = memberium_app()->m4is_gu3m(); $m4is_jroq = get_bloginfo('admin_email'); $m4is_xvd3wf = m4is_o5aoir::m4is_i0_t(); $m4is_fx7z = phpversion(); $m4is_cbcf = parse_url(get_bloginfo('url'), PHP_URL_HOST); $m4is_jz0t1s = memberium_app()->m4is_j5scev(); $m4is_dn09xt = [ 'admin' => rawurlencode($m4is_jroq), 'domain' => rawurlencode($m4is_cbcf), 'env' => rawurlencode($m4is_xqr1mu), 'm4ac' => rawurlencode($m4is_hsyp0), 'php' => rawurlencode($m4is_fx7z), 'users' => rawurlencode($m4is_xvd3wf), 'wp' => rawurlencode($m4is_jz0t1s), ]; $m4is__mto = add_query_arg($m4is_dn09xt, $m4is__mto); return $m4is__mto; } static 
function m4is_cq_bd(bool $m4is_fj79v = false) { if (! $m4is_fj79v) { $m4is_hq0m64 = time() - get_option('memberium/updater/timestamp', 0); if ($m4is_hq0m64 > 0 && $m4is_hq0m64 < 3600) { return false; } } $m4is_un4cqo = [ 'timeout' => 5, ]; $m4is_uu70 = memberium_app()->m4is_gu3m(); $m4is_f2goml = self::m4is_lt9hn(); $m4is_zv59 = wp_remote_get($m4is_f2goml, $m4is_un4cqo); if (! is_a($m4is_zv59, 'WP_Error') && isset($m4is_zv59['body'])) { $m4is_mbtq = unserialize($m4is_zv59['body']); if (isset($m4is_mbtq->version) ) { update_option('memberium/updater/data', $m4is_mbtq, false); update_option('memberium/updater/version', $m4is_mbtq->version, false); update_option('memberium/updater/timestamp', time(), false); } else { error_log('Memberium:  Plugin update check failed.  Cannot fetch current version information.  Please contact support@memberium.com'); return false; } } return true; } static 
function m4is_a893($m4is_jpnd0, $m4is_w5ky4q, $m4is_edow) { if (property_exists($m4is_edow, 'slug') ) { if ($m4is_edow->slug == self::PLUGIN_SLUG) { return true; } } return false; } static 
function m4is_jj8be($m4is_jpnd0, $m4is_w5ky4q, $m4is_edow) { if (property_exists($m4is_edow, 'slug') ) { if ($m4is_edow->slug == self::PLUGIN_SLUG) { $m4is_tx5pb = unserialize(m4is_lr56w2::m4is_moyj(self::PLUGIN_UPDATE_URL) ); if (is_object($m4is_tx5pb) ) { return $m4is_tx5pb; } } } return $m4is_jpnd0; } static 
function m4is_zuyei($m4is_tihq2k) { $m4is_jpnd0 = unserialize(m4is_lr56w2::m4is_moyj(self::PLUGIN_UPDATE_URL) ); if (is_object($m4is_jpnd0) ) { if (! function_exists('get_plugin_data') ) { require_once ABSPATH . 'wp-admin/includes/plugin.php'; } $m4is_m_21 = get_plugin_data(self::PLUGIN_HOME, false, false); $m4is_p0_7 = self::PLUGIN_FULLSLUG; $m4is_nsj6wo = $m4is_jpnd0->version; $m4is_hump7x = $m4is_m_21['Version']; $m4is_g68c = new stdClass; $m4is_g68c->id = self::UPDATE_ID; $m4is_g68c->slug = self::PLUGIN_SLUG; $m4is_g68c->plugin = $m4is_p0_7; $m4is_g68c->new_version = $m4is_jpnd0->version; $m4is_g68c->url = self::PLUGIN_URL; $m4is_g68c->package = $m4is_jpnd0->download_link; $m4is_g68c->upgrade_notice = $m4is_jpnd0->upgrade_notice; $m4is_g68c->tested = $m4is_jpnd0->tested; $m4is_g68c->icons = $m4is_jpnd0->icons; if (version_compare($m4is_nsj6wo, $m4is_hump7x, 'gt') ) { $m4is_tihq2k->response[$m4is_g68c->plugin] = $m4is_g68c; } elseif (! empty($m4is_tihq2k->response) ) { unset($m4is_tihq2k->response[$m4is_p0_7]); } } return $m4is_tihq2k; }  private static 
function m4is_wvz4d() : bool { if ( ! is_writable( MEMBERIUM_HOME ) ) { return false; } $m4is_lmu3 = strtolower( trim( self::$m4is_bxv7u->m4is_gu3m() ) ); $m4is_jk5lo = (bool) self::$m4is_bxv7u->m4is_mmdrl( 'settings', 'autoupdate' ); $m4is_jk5lo = $m4is_jk5lo || ! m4is_o5aoir::m4is__qlbej(); if ( ! $m4is_jk5lo ) { $m4is_ths6y = ['dev', 'alpha', 'beta', 'rc', 'pl']; foreach ( $m4is_ths6y as $m4is_ms3pm ) { if ( ! $m4is_jk5lo ) { $m4is_jk5lo = (bool) strpos( $m4is_lmu3, $m4is_ms3pm ); } } } return $m4is_jk5lo; }  static 
function m4is_y45p6g() { if ( ! self::m4is_wvz4d() ) { return; } if ( ! function_exists( 'get_plugin_data' ) ) { require_once ABSPATH . 'wp-admin/includes/plugin.php'; } $m4is_jpnd0 = wp_remote_get( self::PLUGIN_UPDATE_URL ); $m4is_jpnd0 = is_array( $m4is_jpnd0 ) ? $m4is_jpnd0 = unserialize( $m4is_jpnd0['body'] ) : []; $m4is_o2td = false; $m4is_slfb0 = get_plugin_data( self::PLUGIN_HOME, false, false ); $m4is_nsj6wo = is_object( $m4is_jpnd0 ) && property_exists( $m4is_jpnd0, 'version' ) ? $m4is_jpnd0->version : ''; $m4is_hump7x = self::$m4is_bxv7u->m4is_gu3m(); if ( version_compare( $m4is_nsj6wo, $m4is_hump7x, 'gt' ) ) { ignore_user_abort();   require_once ABSPATH .'/wp-admin/includes/file.php';  $m4is_igqjih = WP_PLUGIN_DIR; $m4is_pvxbs = download_url( $m4is_jpnd0->download_link, 300 );  if ( file_exists( $m4is_pvxbs ) ) {   require_once ABSPATH . '/wp-admin/includes/class-wp-filesystem-base.php'; require_once ABSPATH . '/wp-admin/includes/class-wp-filesystem-direct.php'; file_put_contents( ABSPATH . '.maintenance', '<?php $upgrading = time();' ); WP_Filesystem(); $m4is_jfdrb = new wp_filesystem_direct(null); $m4is_mv3lh9 = self::$m4is_bxv7u->m4is_pri6vy(); $m4is_jfdrb->delete( $m4is_mv3lh9, true ); if ( ! function_exists( 'disk_free_space' ) ) { add_filter( 'wp_doing_cron', '__return_false', 10, 1 ); } unzip_file( $m4is_pvxbs, $m4is_igqjih ); remove_filter( 'wp_doing_cron', '__return_false', 10 ); if ( function_exists( 'opcache_reset' ) ) { opcache_reset(); wp_cache_flush(); } unlink( $m4is_pvxbs ); $m4is_o2td = true; } } if (file_exists(ABSPATH . '.maintenance') ) { unlink(ABSPATH . '.maintenance'); } return $m4is_o2td; } }
