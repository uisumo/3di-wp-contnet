<?php
/**
 * Copyright (c) 2018-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); final 
class m4is__qfb {     
function m4is_kcu9j( $m4is_b15e ) { $m4is_b15e['memberium2'] = [ 'exporter_friendly_name' => 'Memberium', 'callback' => [ 'm4is__qfb', 'm4is_tbpw' ], ]; return $m4is_b15e; }  
function m4is_hi6g( $m4is_r21s ) { $m4is_r21s['memberium2'] = [ 'eraser_friendly_name' => 'Memberium', 'callback' => [ 'm4is__qfb', 'm4is_sy6hbc' ], ]; return $m4is_r21s; }  
function m4is_tbpw( $m4is_m2h6b, $m4is_zvxijt = 1 ) { global $wpdb; $m4is_m2h6b = strtolower(trim ($m4is_m2h6b) ); $m4is_nzrv1 = get_user_by('email', $m4is_m2h6b); $m4is_q4c_xa = $m4is_nzrv1->ID; $m4is_aicfp = m4is_zbyh::m4is_fhxr6($m4is_q4c_xa); $m4is_zvxijt = (int) $m4is_zvxijt; $m4is_bywq = []; $m4is_j0n7 = [];  $m4is_galwv0 = [ 'login_ip_address' => 'Login IP Address', 'last_login_time' => 'Last Login Time', 'login_count' => 'Login Count', ]; foreach( (array) $m4is_galwv0 as $m4is_ti8od => $m4is_a4jlfw) { $m4is_waxrhu = get_user_meta($m4is_q4c_xa, $m4is_ti8od, true); if (! empty($m4is_waxrhu) ) { $m4is_j0n7[] = [ 'name' => $m4is_a4jlfw, 'value' => $m4is_waxrhu, ]; } }  if ($m4is_aicfp) { $m4is_nq7s = m4is_zbyh::m4is_w1bfmt($m4is_aicfp); if (! empty($m4is_nq7s) ) { foreach($m4is_nq7s as $m4is_e3k_mi => $m4is_waxrhu) { if (! empty($m4is_waxrhu) ) { $m4is_j0n7[] = [ 'name' => $m4is_e3k_mi, 'value' => $m4is_waxrhu, ]; } } } } $m4is_xe9a = 'memberium'; $m4is_hsbdp = 'Memberium'; $m4is_pga7md = "memberium-user"; $m4is_bywq[] = [ 'group_id' => $m4is_xe9a, 'group_label' => $m4is_hsbdp, 'item_id' => $m4is_pga7md, 'data' => $m4is_j0n7, ]; $m4is_j0n7 = []; $m4is_ioxk = 'SELECT DISTINCT `ipaddress` FROM `' . MEMBERIUM_DB_LOGINLOG . '` WHERE `username` = %s '; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_m2h6b); $m4is_jpzyit = $wpdb->get_col($m4is_ioxk); if (is_array($m4is_jpzyit) && ! empty($m4is_jpzyit) ) { foreach($m4is_jpzyit as $row) { $m4is_j0n7[] = [ 'name' => 'IP Address', 'value' => $row ]; } $m4is_xe9a = 'memberium-ip-history'; $m4is_hsbdp = 'Memberium IP History'; $m4is_pga7md = "memberium-ip-history"; $m4is_bywq[] = [ 'group_id' => $m4is_xe9a, 'group_label' => $m4is_hsbdp, 'item_id' => $m4is_pga7md, 'data' => $m4is_j0n7, ]; } $m4is_atuy = true; return [ 'data' => $m4is_bywq, 'done' => $m4is_atuy, ]; }  
function m4is_sy6hbc($m4is_m2h6b, $m4is_zvxijt = 1) { global $wpdb; $m4is_m2h6b = strtolower(trim ($m4is_m2h6b) ); $m4is_nzrv1 = get_user_by('email', $m4is_m2h6b); $m4is_q4c_xa = $m4is_nzrv1->ID; $m4is_dl7r9v = false; $m4is_zvxijt = (int) $m4is_zvxijt; $m4is_q7m2 = memberium_app()->m4is_re5x('appname'); $m4is_aicfp = m4is_zbyh::m4is_fhxr6($m4is_q4c_xa); if ($m4is_aicfp) { $m4is_ioxk = 'DELETE FROM `' . MEMBERIUM_DB_CONTACTS . '` WHERE `appname` = %s AND `id` = %d '; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q7m2, $m4is_aicfp); $m4is_dl7r9v += $wpdb->query($m4is_ioxk);  $m4is_ioxk = 'DELETE FROM `' . MEMBERIUM_DB_CONTACTTAGS . '` WHERE `appname` = %s AND `contactid` = %d '; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q7m2, $m4is_aicfp); $m4is_dl7r9v += $wpdb->query($m4is_ioxk);   $m4is_fdmw5 = m4is__q5cn::m4is_ma1q8($m4is_aicfp); if ($m4is_fdmw5) { $m4is_ioxk = 'DELETE FROM `' . MEMBERIUM_DB_AFFILIATES . '` WHERE `appname` = %s AND `id` = %d '; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q7m2, $m4is_fdmw5); $m4is_dl7r9v += $wpdb->query($m4is_ioxk); } } if ($m4is_q4c_xa) { $m4is_ioxk = 'DELETE FROM `' . MEMBERIUM_DB_PAGETRACKING . '` WHERE `userid` = %d '; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q4c_xa); $m4is_dl7r9v += $wpdb->query($m4is_ioxk); }  $m4is_ioxk = 'DELETE FROM `' . MEMBERIUM_DB_LOGINLOG . '` WHERE `appname` = %s AND `username` = %s'; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q7m2, $m4is_m2h6b); $m4is_dl7r9v += $wpdb->query($m4is_ioxk);  return [ 'done' => true, 'items_removed' => $m4is_dl7r9v, 'items_retained' => false, 'messages' => [], ]; } }
