<?php
/**
 * Copyright (c) 2012-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); final 
class m4is_xon4yh { private static $key_prefix = 'memberium/rss_user_id'; private 
function __construct() {}  static 
function m4is_osy_17($m4is_nzrv1 = null) { $m4is_q4c_xa = (is_object($m4is_nzrv1) && get_class($m4is_nzrv1) == 'WP_User') ? $m4is_nzrv1->ID : (int) $m4is_nzrv1; $m4is_q4c_xa = ($m4is_q4c_xa) ? $m4is_q4c_xa : get_current_user_id(); if ($m4is_q4c_xa) { global $wpdb; $m4is_o2td = false; $m4is_xme6t = 0; do { $m4is_gzdj = wp_generate_password(18, false, false); if (! self::m4is_kgys3f($m4is_gzdj) ) {  $m4is_eg2e = self::$key_prefix; $m4is_ap3_ = self::$key_prefix . '/' . $m4is_gzdj; update_user_meta($m4is_q4c_xa, $m4is_ap3_, $m4is_gzdj); update_user_meta($m4is_q4c_xa, self::$key_prefix, $m4is_gzdj); $m4is_o2td = true; } } while ($m4is_o2td == false);  $m4is_ioxk = "DELETE FROM `{$wpdb->usermeta}` WHERE `user_id` = %d AND `meta_key` <> %s AND "; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q4c_xa, $m4is_ap3_); $m4is_ioxk .= " `meta_key` LIKE '{$m4is_eg2e}%' "; $wpdb->query($m4is_ioxk); do_action('memberium/rssid/set', $m4is_q4c_xa); } }  static 
function m4is_luvp_g() { add_action('do_feed_atom_comments', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed_atom', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed_rdf', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed_rss', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed_rss2_comments', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed_rss2', [__CLASS__, 'm4is_qyseac'], 1); add_action('do_feed', [__CLASS__, 'm4is_qyseac'], 1); remove_action('wp_head', 'feed_links_extra', 3); remove_action('wp_head', 'feed_links', 2); remove_action('wp', 'bp_activity_action_favorites_feed', 3); remove_action('wp', 'bp_activity_action_friends_feed', 3); remove_action('wp', 'bp_activity_action_mentions_feed', 3); remove_action('wp', 'bp_activity_action_my_groups_feed', 3); remove_action('wp', 'bp_activity_action_personal_feed', 3); remove_action('wp', 'bp_activity_action_sitewide_feed', 3); remove_action('wp', 'groups_action_group_feed', 3); }  static 
function m4is_aq47j($m4is__jp4yb, $m4is_kc1q) { $m4is_d3eu = isset($_GET['rss_user']) ? $_GET['rss_user'] : ''; if ($m4is_d3eu) { if (is_feed() ) { $m4is_q4c_xa = (int) self::m4is_kgys3f($m4is_d3eu); if ($m4is_q4c_xa) { if (wp_set_current_user($m4is_q4c_xa) ) {  do_action('memberium/rssid/rsslogin/', $m4is_q4c_xa); } } } } return $m4is__jp4yb; }  static 
function m4is_pae7($m4is_nzrv1 = null) { $m4is_q4c_xa = (is_object($m4is_nzrv1) && get_class($m4is_nzrv1) == 'WP_User') ? $m4is_nzrv1->ID : (int) $m4is_nzrv1; $m4is_q4c_xa = ($m4is_q4c_xa) ? $m4is_q4c_xa : get_current_user_id(); if ($m4is_q4c_xa) { $m4is_gzdj = get_user_meta($m4is_q4c_xa, self::$key_prefix, true); global $wpdb; $m4is_eg2e = self::$key_prefix; $m4is_ioxk = "SELECT `meta_value` FROM `{$wpdb->usermeta}` WHERE `user_id` = %d AND "; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q4c_xa); $m4is_ioxk .= " `meta_key` LIKE '{$m4is_eg2e}/%' ORDER BY `umeta_id` ASC LIMIT 1"; $m4is_lbt87 = $wpdb->get_var($m4is_ioxk); if (empty($m4is_lbt87) ) { $m4is_lbt87 = self::m4is_osy_17($m4is_q4c_xa); } } if ($m4is_lbt87) { return $m4is_lbt87; } return false; }  static 
function m4is_yeut($m4is_nzrv1 = null) { $m4is_q4c_xa = (is_object($m4is_nzrv1) && get_class($m4is_nzrv1) == 'WP_User') ? $m4is_nzrv1->ID : (int) $m4is_nzrv1; $m4is_q4c_xa = ($m4is_q4c_xa) ? $m4is_q4c_xa : get_current_user_id(); if ($m4is_q4c_xa) { global $wpdb; $key_prefix = self::$key_prefix; $m4is_ioxk = "DELETE FROM `{$wpdb->usermeta}` WHERE `user_id` = %d AND "; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_q4c_xa, $m4is_ap3_); $m4is_ioxk .= " `meta_key` LIKE '{$key_prefix}/%' "; $wpdb->query($m4is_ioxk); do_action('memberium/rssid/reset/', $m4is_q4c_xa); return true; } return false; } private static 
function m4is_kgys3f($m4is_d3eu = '') { global $wpdb; $m4is_d3eu = sanitize_text_field($m4is_d3eu); $m4is_ap3_ = self::$key_prefix . '/' . $m4is_d3eu; $m4is_ioxk = "SELECT `user_id` FROM `{$wpdb->usermeta}` WHERE `meta_key` = %s AND `meta_value` = %s ORDER BY `user_id` ASC LIMIT 1"; $m4is_ioxk = $wpdb->prepare($m4is_ioxk, $m4is_ap3_, $m4is_d3eu); $m4is_q4c_xa = (int) $wpdb->get_var($m4is_ioxk); return $m4is_q4c_xa; } static 
function m4is_qyseac() { $m4is_w5ky4q = [ 'response' => 403, 'code' => __('Public RSS Feed Unavailable'), 'exit' => true, ]; wp_die( __('No feed available, please visit our homepage.'), __('Access Denied'), $m4is_w5ky4q ); } }
