<?php
/**
 * Copyright (c) 2017-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); m4is_k6hdk::m4is_gopgz(); final 
class m4is_k6hdk { private static $m4is_bxv7u, $m4is_aicfp, $m4is_cpwjsn, $m4is_kuzmd1, $m4is_ahusy0; static 
function m4is_gopgz() { self::$m4is_bxv7u = memberium_app(); self::$m4is_aicfp = (int) self::$m4is_bxv7u->m4is_w47qdy(); self::$m4is_kuzmd1 = ! m4is_o5aoir::m4is_du5icq(); self::$m4is_cpwjsn = m4is_pcys::m4is_a6x52r(); self::$m4is_ahusy0 = 'memberium'; } static 
function m4is_sumzga( $m4is_qvehs = [], string $m4is_amunwi = '', string $m4is_rz70ok = '' ) : string { if ( self::$m4is_kuzmd1 ) { return ''; } $m4is_p78sgz = [ 'after' => '', 'before' => '', 'capture' => '', 'fields' => '', 'htmlattr' => '', 'separator' => ' ', 'txtfmt' => '', ]; if ( isset( $m4is_qvehs[0] ) && $m4is_qvehs[0] == 'showatts' ) { return implode( ', ', array_keys( $m4is_p78sgz ) ); } $m4is_qvehs = shortcode_atts( $m4is_p78sgz, $m4is_qvehs, self::$m4is_ahusy0 ); $m4is_fi64q = array_filter( explode( ',', trim( $m4is_qvehs['fields'] ) ) ); $m4is_colc6d = ''; if ( empty( $m4is_fi64q ) ) { return ''; } foreach ( $m4is_fi64q as $m4is_sv3h ) { $m4is_sv3h = strtolower( trim( $m4is_sv3h ) ); $m4is_k2qb08 .= htmlspecialchars( m4is_lpl4d::m4is_seig6( $m4is_sv3h ) ); if ( count( $m4is_fi64q ) > 1 ) { $m4is_k2qb08 .= $m4is_qvehs['separator']; } } return m4is_qipkj::m4is__85o( false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after'] ); } static 
function m4is_nz7_0q( $m4is_qvehs = [], string $m4is_amunwi = '', string $m4is_rz70ok = '' ) : string { if ( self::$m4is_kuzmd1 ) { return ''; } $m4is_p78sgz = [ 'includepassword' => false, 'name' => 'membsession', 'omit' => '',  ]; if ( isset( $m4is_qvehs[0] ) && $m4is_qvehs[0] == 'showatts' ) { return implode( ', ', array_keys( $m4is_p78sgz ) ); } $m4is_qvehs = shortcode_atts( $m4is_p78sgz, $m4is_qvehs, self::$m4is_ahusy0 ); $m4is_s0j3 = m4is_qipkj::m4is_vhjg( $m4is_qvehs['includepassword'], false ); $m4is_ay7a = array_filter( explode( ',', $m4is_qvehs['omit'] ) ); $m4is_jyx_t = strtolower( self::$m4is_bxv7u->m4is_mmdrl( 'settings', 'password_field' ) ); $session = $_SESSION; if ( ! $m4is_s0j3 ) { unset( $session['keap']['contact'][$m4is_jyx_t] ); } foreach ( $m4is_ay7a as $m4is_r75o) { unset( $session['memb_user'][$m4is_r75o], $session['keap']['contact'][$m4is_r75o], $session['keap']['affiliate'][$m4is_r75o] ); } $m4is_k2qb08 = '<script type="text/javascript">' . "\n"; $m4is_k2qb08 .= 'var ' . $m4is_qvehs['name'] . ' = ' . json_encode( $session, JSON_PRETTY_PRINT) . ";\n"; $m4is_k2qb08 .= '</script>' . "\n"; return $m4is_k2qb08; } static 
function m4is_zvfq3( $m4is_qvehs = [], string $m4is_amunwi = '', string $m4is_rz70ok = '' ) : string { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is_r5xk = ''; static $m4is__iftk = 0; $m4is__iftk++; $m4is_p78sgz = [ 'actionset_id' => 0, 'buttontext' => 'Change Email', 'email1label' => 'Email Address:', 'email2label' => 'Repeat Email Address:', 'failure_url' => '', 'form_name' => 'change_email_' . $m4is__iftk, 'goal' => '', 'success_url' => '', ]; if ( isset( $m4is_qvehs[0] ) && $m4is_qvehs[0] == 'showatts' ) { return implode( ',', array_keys( $m4is_p78sgz ) ); } $m4is_m2h6b = m4is_lpl4d::m4is_bfi49( 'email' ); $m4is_q4c_xa = (int) get_current_user_id(); if ( empty( $m4is_m2h6b ) || empty( $m4is_q4c_xa ) || empty( self::$m4is_aicfp ) ) { return ''; } $m4is_qvehs = shortcode_atts( $m4is_p78sgz, $m4is_qvehs, 'memberium' ); $m4is_dt6b3 = 'memb_email_change_' . $m4is__iftk; $m4is_waljg = ''; $m4is_dn09xt = base64_encode( serialize( [ 'actionset_id' => $m4is_qvehs['actionset_id'], 'goal' => $m4is_qvehs['goal'], 'failure_url' => $m4is_qvehs['failure_url'], 'success_url' => $m4is_qvehs['success_url'], ]) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs( $m4is_dn09xt ); if ( ! empty( $_SESSION['memb_flash']['email_change_message'] ) ) { $m4is_waljg = $_SESSION['memb_flash']['email_change_message']; unset( $_SESSION['memb_flash']['email_change_message'], $_SESSION['memb_flash']['email_change_result'] ); } $m4is_j0n7 = new stdClass; $m4is_j0n7->form_name = $m4is_qvehs['form_name']; $m4is_j0n7->nonce = wp_nonce_field( 'memb_email_change_' . $m4is__iftk, '_wpnonce', true, false ); $m4is_j0n7->signature = self::$m4is_bxv7u->m4is_rxyecs( $m4is_dn09xt ); $m4is_j0n7->parameters = $m4is_dn09xt; $m4is_j0n7->form_id = $m4is__iftk; $m4is_j0n7->email = $m4is_m2h6b; $m4is_j0n7->email1_label = $m4is_qvehs['email1label']; $m4is_j0n7->email2_label = $m4is_qvehs['email2label']; $m4is_j0n7->button_text = $m4is_qvehs['buttontext']; $m4is_j0n7->message = $m4is_waljg; return m4is_qipkj::m4is_jers4( $m4is_rz70ok, $m4is_qvehs, $m4is_amunwi, $m4is_rz70ok, $m4is_j0n7 ); }     static 
function m4is_lk65($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is__iftk = 0; $m4is__iftk++; $m4is_jyx_t = self::$m4is_bxv7u->m4is_mmdrl('settings', 'password_field'); $m4is_loyt16 = ($m4is_jyx_t == 'Password') ? 20 : 256; $m4is_p78sgz = [ 'actionset_id' => 0, 'buttontext' => 'Change Password', 'confirm_template_id' => 0, 'goal' => '', 'maxlength' => $m4is_loyt16, 'password1label' => 'New Password:', 'password2label' => 'Repeat Password:', 'redirect_url' => '',  'success_message' => _x('Password Changed Successfully.', 'memb_change_password', 'memberium'), 'success_url' => '', 'tagids' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if ( self::$m4is_bxv7u->m4is_fop0d() || is_archive() || is_feed() || is_search() ) { return; } if (! self::$m4is_aicfp ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['maxlength'] = abs( intval( $m4is_qvehs['maxlength'] ) ); $m4is_dn09xt = base64_encode(serialize([ 'confirm_template_id' => (int) trim($m4is_qvehs['confirm_template_id']), 'goal' => trim($m4is_qvehs['goal']), 'actionset_id' => trim($m4is_qvehs['actionset_id']), 'redirect_url' => trim($m4is_qvehs['redirect_url']), 'tagids' => trim($m4is_qvehs['tagids']), 'successurl' => trim($m4is_qvehs['success_url']), 'contact_id' => self::$m4is_aicfp, ] ) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_dn09xt); $m4is_o_8l1 = 'memb_password_change-' . $m4is__iftk; $m4is_y5vt = 'password_change_' . $m4is__iftk; $m4is_rpscuy = ''; $m4is_ar0swt = remove_query_arg(['passwordchange'], $_SERVER['REQUEST_URI']); $m4is_zixp = self::$m4is_cpwjsn->m4is_s7302(); $m4is_j0n7 = new stdClass; $m4is_j0n7->form_name = $m4is_o_8l1; $m4is_j0n7->form_action = $m4is_ar0swt; $m4is_j0n7->form_id = $m4is__iftk; $m4is_j0n7->nonce = wp_nonce_field($m4is_y5vt. $m4is_dn09xt, '_wpnonce', true, false);; $m4is_j0n7->parameters = $m4is_dn09xt; $m4is_j0n7->signature = $m4is_k_fdu; $m4is_j0n7->max_length = $m4is_qvehs['maxlength']; $m4is_j0n7->min_length = self::$m4is_bxv7u->m4is_mmdrl('settings', 'min_password_length'); $m4is_j0n7->password1_label = $m4is_qvehs['password1label']; $m4is_j0n7->password2_label = $m4is_qvehs['password2label']; $m4is_j0n7->button_text = $m4is_qvehs['buttontext']; $m4is_j0n7->messages = ''; if (! empty($m4is_zixp) ) { $m4is_j0n7->messages = $m4is_zixp; self::$m4is_cpwjsn->m4is_w5v3i(''); } else { if (! empty($_GET['passwordchange']) && $_GET['passwordchange'] == 'success' ) { $m4is_j0n7->messages = $m4is_qvehs['success_message']; unset($_GET['passwordchange']); } } return m4is_qipkj::m4is_jers4($m4is_rz70ok, $m4is_qvehs, $m4is_amunwi, $m4is_rz70ok, $m4is_j0n7); } static 
function m4is_rh_39($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is__iftk = 1; $m4is_p78sgz = [ 'buttontext' => 'Send Password', 'emailtext' => 'Email Address', 'successurl' => '',  'failureurl' => '',  'template_id' => 0, 'tag_id' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if (! empty( self::$m4is_bxv7u->m4is_mmdrl('settings', 'local_auth_only') ) ) { if ( self::$m4is_bxv7u->m4is_fop0d() ) { return '<p style="color:red;font-weight:bold;">Send Password Form disabled by secure password storage.</p>'; } return; } if (is_user_logged_in() ){ if ( self::$m4is_bxv7u->m4is_fop0d() ) { return '<p style="color:red;font-weight:bold;">Send Password Form not visible to logged in users.</p>'; } return; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_o_8l1 = 'memb_password_send-' . $m4is__iftk; $m4is_rpscuy = ''; $m4is_qvehs['template_id'] = (int) $m4is_qvehs['template_id']; $m4is_qvehs['tag_id'] = abs( intval( $m4is_qvehs['tag_id'] ) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_qvehs['template_id'] . $m4is_qvehs['tag_id']); if (! empty( self::$m4is_cpwjsn->m4is_s7302() ) ) { $m4is_rpscuy .= '<div class="password_send_message">' . self::$m4is_cpwjsn->m4is_s7302() . '</div>'; } $m4is_rpscuy .= "<form name=\"{$m4is_o_8l1}\" id=\"{$m4is_o_8l1}\" method=\"post\">"; $m4is_rpscuy .= "<input type=\"hidden\" name=\"form_id\" value=\"{$m4is__iftk}\">"; $m4is_rpscuy .= "<input type=\"hidden\" name=\"template_id\" value=\"{$m4is_qvehs['template_id']}\">"; $m4is_rpscuy .= "<input type=\"hidden\" name=\"signature\" value=\"{$m4is_k_fdu}\">"; $m4is_rpscuy .= '<input type="hidden" name="successurl" value="' . base64_encode($m4is_qvehs['successurl']) . '">'; $m4is_rpscuy .= '<input type="hidden" name="failureurl" value="' . base64_encode($m4is_qvehs['failureurl']) . '">'; $m4is_rpscuy .= '<input type="hidden" name="tag_id" value="' . base64_encode($m4is_qvehs['tag_id']) . '">'; $m4is_rpscuy .= '<input type="hidden" name="memb_form_type" value="memb_send_password">'; $m4is_rpscuy .= '<div id="' . $m4is_o_8l1 . '-block1">'; $m4is_rpscuy .= '<label id="' . $m4is_o_8l1 . '-email-label">' . $m4is_qvehs['emailtext'] . ':</label>'; $m4is_rpscuy .= '<input id="' . $m4is_o_8l1 . '-email-input" name="email" type="email" required value="">'; $m4is_rpscuy .= '</div>'; $m4is_rpscuy .= '<div id="' . $m4is_o_8l1 . '-block2">'; $m4is_rpscuy .= '<input type="submit" value="' . $m4is_qvehs['buttontext'] . '" name="submit">'; $m4is_rpscuy .= '</div>'; $m4is_rpscuy .= "</form>"; self::$m4is_cpwjsn->m4is_w5v3i(''); $m4is__iftk++; return $m4is_rpscuy; } static 
function m4is_m2xq9($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is_ef57s = 1; $m4is_p78sgz = [ 'date_fields' => '', 'failure_url' => '', 'form_id' => 'registration_form_' . $m4is_ef57s, 'goal' => '', 'pass_fields' => true, 'pass_password' => false, 'remove_accents' => 'y', 'required_fields' => '', 'success_url' => '', 'tagids' => '',  ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if (empty( self::$m4is_aicfp ) ) { return; } m4is_d8yr0_::m4is_vsv0mr();        $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_ingqbi = base64_encode(serialize([ 'contact_id' => self::$m4is_aicfp, 'date_fields' => $m4is_qvehs['date_fields'], 'failure_url' => $m4is_qvehs['failure_url'], 'form_id' => $m4is_qvehs['form_id'], 'goal' => $m4is_qvehs['goal'], 'pass_fields' => $m4is_qvehs['pass_fields'], 'pass_password' => $m4is_qvehs['pass_password'], 'remove_accents' => $m4is_qvehs['remove_accents'], 'required_fields' => $m4is_qvehs['required_fields'], 'success_url' => $m4is_qvehs['success_url'], 'tagids' => $m4is_qvehs['tagids'],  ]) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_ingqbi); $m4is_rpscuy = ''; if (isset($_SESSION['error_message']) && is_array($_SESSION['error_message']) ) { foreach ($_SESSION['error_message'] as $m4is_r5xk) { $m4is_rpscuy .= '<p class="memb_registration_error"> ' . $m4is_r5xk . '</p>'; } unset($_SESSION['error_message']); } $m4is_rpscuy .= '<form method="post" action="" id="' . $m4is_qvehs['form_id'] . '" name="">'; $m4is_rpscuy .= wp_nonce_field($m4is_ingqbi, '_wpnonce', true, false); $m4is_rpscuy .= "<input type=\"hidden\" name=\"memb_form_type\" value=\"memb_update_contact_form\">"; $m4is_rpscuy .= '<input type="hidden" name="params" value="' . $m4is_ingqbi . '">'; $m4is_rpscuy .= '<input type="hidden" name="signature" value="' . $m4is_k_fdu . '">'; $m4is_rpscuy .= do_shortcode($m4is_amunwi); $m4is_rpscuy .= '</form>'; $m4is_ef57s++; return $m4is_rpscuy; }  static 
function m4is_uguw2($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'after' => '', 'before' => '', 'cache' => HOUR_IN_SECONDS, 'capture' => '', 'mode' => 'text', 'htmlattr' => '', 'txtfmt' => '', ]; $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_k2qb08 = ''; if (isset($_SESSION['memb_user']['email']) ) { $m4is_rr90 = self::$m4is_cpwjsn->m4is_is3wm($_SESSION['memb_user']['email']); if ($m4is_qvehs['mode'] == 'text') { switch ($m4is_rr90) { case 1: $m4is_k2qb08 = _x('Single Opted In', 'memb_optin_status', 'memberium'); break; case 2: $m4is_k2qb08 = _x('Double Opted In', 'memb_optin_status', 'memberium'); break; default: $m4is_k2qb08 = _x('Not Opted In', 'memb_optin_status', 'memberium'); break; } } else { $m4is_k2qb08 = $m4is_rr90; } } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is_hg2x8t($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'capture' => '', 'contact_id' => self::$m4is_aicfp, 'date_format' => '', 'default' => '', 'fields' => '', 'htmlattr' => '', 'owner_id' => 0, 'separator' => ' ', 'txtfmt' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['fields'] = trim($m4is_qvehs['fields']); $m4is_qvehs['contact_id'] = (int) $m4is_qvehs['contact_id']; $m4is_qvehs['fields'] = array_filter(explode(',', $m4is_qvehs['fields']) ); if (empty($m4is_qvehs['fields']) ) { return; }  if ($m4is_qvehs['owner_id'] > 0) { $m4is_qvehs['owner_id'] = (int) $m4is_qvehs['owner_id']; } else { if ($m4is_qvehs['contact_id'] <> self::$m4is_aicfp ) { $m4is_i2t3ps = m4is_zbyh::m4is_w1bfmt($m4is_qvehs['contact_id'], true); $m4is_qvehs['owner_id'] = (int) $m4is_i2t3ps['ownerid']; unset($m4is_i2t3ps); } else { $m4is_qvehs['owner_id'] = (int) m4is_lpl4d::m4is_bfi49('ownerid', 0); } } $m4is_k_z0vk = m4is_y96l1::m4is_ck_5($m4is_qvehs['owner_id'], true); $m4is_fi64q = $m4is_qvehs['fields']; $m4is_utphc = count($m4is_fi64q); $m4is_wnqi = 0; $m4is_ms_k = 0; $m4is_k2qb08 = ''; foreach($m4is_qvehs['fields'] as $m4is_sv3h) { $m4is_ms_k++; $m4is_sv3h = strtolower(trim($m4is_sv3h) ); if (isset($m4is_k_z0vk[$m4is_sv3h]) ) { $m4is_pverx = strtotime($m4is_k_z0vk[$m4is_sv3h]); if ($m4is_qvehs['date_format'] == '' || $m4is_pverx == 0) { $m4is_ywklcb = $m4is_k_z0vk[$m4is_sv3h]; } else { $m4is_ywklcb = date($m4is_qvehs['date_format'], strtotime($m4is_k_z0vk[$m4is_sv3h]) ); } } else { $m4is_ywklcb = $m4is_qvehs['default']; } $m4is_k2qb08 .= $m4is_ywklcb; if ($m4is_ms_k < $m4is_utphc) { $m4is_k2qb08 .= $m4is_qvehs['separator']; } } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr']); } static 
function m4is_cxfout($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'actionset_id' => '', 'contact_id' => self::$m4is_aicfp, 'date_format' => '', 'fields' => '', 'goal' => '', 'tag_id' => '', 'txtfmt' => '', 'value' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['contact_id'] = (int) $m4is_qvehs['contact_id']; $m4is_qvehs['fields'] = array_filter(explode(',', $m4is_qvehs['fields']) ); $m4is_qvehs['value'] = m4is_qipkj::m4is_yof82($m4is_qvehs['value'], $m4is_qvehs['txtfmt']); if (empty($m4is_qvehs['contact_id']) ) { return; } if (empty($m4is_qvehs['fields']) ) { return; } if ($m4is_qvehs['date_format'] > '') { if (strcasecmp($m4is_qvehs['date_format'] , 'infusionsoft') == 0) { $m4is_qvehs['date_format'] = 'Ymd\Th:i:s'; } $m4is_qvehs['value'] = date($m4is_qvehs['date_format'], strtotime($m4is_qvehs['value']) ); } $m4is_qvehs['value'] = trim($m4is_qvehs['value']); $m4is_vh_1bx = m4is_f84s3h::m4is_cm6nr('Contact'); $m4is_jrkq = [ 'CreatedBy', 'DateCreated', 'Groups', 'Id', 'LastUpdated', 'LastUpdatedBy', 'Validated', ];  if (is_array($m4is_vh_1bx) ) { foreach ($m4is_vh_1bx as $valid_field) { $m4is_qvehs['fields'] = str_ireplace($valid_field, $valid_field, $m4is_qvehs['fields']); } } foreach ($m4is_qvehs['fields'] as $m4is_ap3_ => $m4is_tenvhx) { if (! in_array($m4is_tenvhx, $m4is_vh_1bx) || in_array($m4is_tenvhx, $m4is_jrkq) ) { unset($m4is_qvehs['fields'][$m4is_ap3_]); } else { self::$m4is_bxv7u->m4is_g1svi($m4is_tenvhx, $m4is_qvehs['value'], $m4is_qvehs['contact_id']); } } if ($m4is_qvehs['contact_id'] == self::$m4is_aicfp ) { $_SESSION = self::$m4is_bxv7u->m4is_q4nu(); } } static 
function m4is_pqmjv($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is_ef57s = 1; if (is_feed() ) { return; } $m4is_p78sgz = [ 'action_id' => '', 'autologin' => false, 'date_fields' => '', 'encoded' => true, 'failure_url' => '', 'form_id' => '', 'goal' => '', 'inf_fields' => false, 'membership_tags' => '',  'pass_fields' => false, 'pass_password' => false, 'remove_accents' => 'n', 'required_fields' => 'FirstName,Email', 'secure' => true, 'success_url' => '', 'tagids' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if (is_user_logged_in() ) { return; } m4is_d8yr0_::m4is_vsv0mr();     $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['autologin'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['autologin'], false); $m4is_qvehs['encoded'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['encoded'], false); $m4is_qvehs['inf_fields'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['inf_fields'], false); $m4is_qvehs['pass_fields'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['pass_fields'], false); $m4is_qvehs['pass_password'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['pass_password'], false); $m4is_qvehs['secure'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['secure'], false); if (empty(trim($m4is_qvehs['form_id']) ) ) { $m4is_qvehs['form_id'] = 'registration_form_' . $m4is_ef57s; } $m4is_ingqbi = base64_encode(serialize([ 'action_id' => $m4is_qvehs['action_id'], 'autologin' => $m4is_qvehs['autologin'], 'date_fields' => $m4is_qvehs['date_fields'], 'failure_url' => $m4is_qvehs['failure_url'], 'form_id' => $m4is_qvehs['form_id'], 'goal' => $m4is_qvehs['goal'], 'membership_tags' => $m4is_qvehs['membership_tags'], 'pass_fields' => $m4is_qvehs['pass_fields'], 'pass_password' => $m4is_qvehs['pass_password'], 'remove_accents' => $m4is_qvehs['remove_accents'], 'required_fields' => $m4is_qvehs['required_fields'], 'success_url' => $m4is_qvehs['success_url'], 'tagids' => $m4is_qvehs['tagids'], ]) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_ingqbi); $m4is_rpscuy = ''; if (! empty($_SESSION['error_message']) ) { foreach ($_SESSION['error_message'] as $m4is_r5xk) { $m4is_rpscuy .= '<p class="memb_registration_error"> ' . $m4is_r5xk . '</p>'; } } $m4is_rpscuy .= '<form method="post" action="" id="' . $m4is_qvehs['form_id'] . '" name="">' . "\n"; $m4is_rpscuy .= "<input type=\"hidden\" name=\"memb_form_type\" value=\"memb_registration\">" . "\n"; $m4is_rpscuy .= wp_nonce_field($m4is_ingqbi, '_wpnonce', true, false) . "\n"; $m4is_rpscuy .= '<input type="hidden" name="params" value="' . $m4is_ingqbi . '">' . "\n"; $m4is_rpscuy .= '<input type="hidden" name="signature" value="' . $m4is_k_fdu . '">' . "\n"; $m4is_rpscuy .= do_shortcode($m4is_amunwi) . "\n"; $m4is_rpscuy .= '</form>' . "\n\n"; $m4is_rpscuy = do_shortcode($m4is_rpscuy); if ($m4is_qvehs['encoded'] || $m4is_qvehs['secure']) { $m4is_rpscuy = m4is_qipkj::m4is_r1brk($m4is_rpscuy); } $m4is_ef57s++; $_SESSION['error_message'] = null; return $m4is_rpscuy; } static 
function m4is_ybvxka($m4is_qvehs, $m4is_amunwi = NULL, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'after' => '', 'before' => '', 'capture' => '', 'default' => '', 'fieldname' => '', 'htmlattr' => '', 'txtfmt' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); if (empty($m4is_qvehs['fieldname']) ) { return; } $m4is_nzrv1 = wp_get_current_user(); $m4is_sv3h = $m4is_qvehs['fieldname']; $m4is_k2qb08 = $m4is_nzrv1->$m4is_sv3h; $m4is_k2qb08 = empty($m4is_nzrv1->$m4is_sv3h) ? $m4is_qvehs['default'] : $m4is_nzrv1->$m4is_sv3h; return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is_ezcxf($m4is_qvehs, $m4is_amunwi = NULL, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is__iftk = 0; m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'send_button_text' => 'Reset Password', 'template_id' => 0, 'update_button_text' => 'Update Password', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); }   if (is_user_logged_in() ) { return; } if (is_feed() ) { return; } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['template_id'] = (int) $m4is_qvehs['template_id']; $m4is__iftk = $m4is__iftk + 1; $m4is_rpscuy = ''; if (isset($_GET['action']) && isset($_GET['key']) && isset($_GET['login']) ) { $m4is_nzrv1 = check_password_reset_key($_GET['key'], $_GET['login']); if ('WP_User' == get_class($m4is_nzrv1) ) { $m4is_rpscuy .= '<form method="post" action="./">'; $m4is_rpscuy .= wp_nonce_field('memb_reset_password_' . $m4is__iftk, '_wpnonce', true, false); $m4is_rpscuy .= '<input type="hidden" name="form_id" value="' . $m4is__iftk . '">'; $m4is_rpscuy .= '<input type="hidden" name="memb_form_type" value="memb_reset_password">'; $m4is_rpscuy .= '<input type="hidden" name="key" value="' . $_GET['key'] . '">'; $m4is_rpscuy .= '<input type="hidden" name="login" value="' . $_GET['login'] . '">'; $m4is_rpscuy .= '<label>Enter Your New Password:</label><input type="password" name="password1" placeholder="New Password" size="30"><br />'; $m4is_rpscuy .= '<label>Confirm Your New Password:</label><input type="password" name="password2" placeholder="New Password" size="30"><br />'; $m4is_rpscuy .= '<input type="submit" value="' . $m4is_qvehs['update_button_text'] . '">'; $m4is_rpscuy .= '</form>'; } else { $m4is_rpscuy .= '<p>Invalid / Expired Link</p>'; } } else { $m4is_rxc9n1 = base64_encode(serialize(['template_id' => $m4is_qvehs['template_id'] ]) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_rxc9n1); $m4is_rpscuy .= '<form method="post">'; $m4is_rpscuy .= wp_nonce_field('memb_reset_password_' . $m4is__iftk, '_wpnonce', true, false); $m4is_rpscuy .= '<input type="hidden" name="form_id" value="' . $m4is__iftk . '">'; $m4is_rpscuy .= '<input type="hidden" name="memb_form_type" value="memb_reset_password">'; $m4is_rpscuy .= '<input type="hidden" name="params" value="' . $m4is_rxc9n1 . '">'; $m4is_rpscuy .= '<input type="hidden" name="signature" value="' . $m4is_k_fdu . '">'; $m4is_rpscuy .= '<label>Your Login Email:</label><input type="email" name="email" placeholder="Your Email Address" size="30"><br />'; $m4is_rpscuy .= '<input type="submit" value="' . $m4is_qvehs['send_button_text'] . '">'; $m4is_rpscuy .= '</form>'; } return $m4is_rpscuy; } static 
function m4is_odyf($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'alt' => '', 'capture' => '', 'class' => 'memberium-gravatar', 'default' => '', 'email' => m4is_lpl4d::m4is_bfi49('email'), 'rating' => 'g', 'size' => 32, 'title' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['size'] = ( (int) $m4is_qvehs['size'] < 1) ? 32 : (int) $m4is_qvehs['size']; if ($m4is_qvehs['size'] > 2048) { $m4is_qvehs['size'] = 2048; } if (empty($m4is_qvehs['email']) && is_user_logged_in() ) { $m4is_nzrv1 = wp_get_current_user(); $m4is_qvehs['email'] = $m4is_nzrv1->user_email; } $m4is_qvehs['email'] = strtolower(trim($m4is_qvehs['email']) ); $m4is_cvn5 = '//www.gravatar.com/avatar/' . md5($m4is_qvehs['email']) . '.jpg?s=' . (int) $m4is_qvehs['size']; $m4is_cvn5 .= ($m4is_qvehs['default'] > '') ? '&d=' . urlencode($m4is_qvehs['default']) : ''; $m4is_cvn5 .= ($m4is_qvehs['rating'] > '') ? '&r=' . urlencode($m4is_qvehs['rating']) : ''; $m4is_amunwi = '<img src="' . $m4is_cvn5 . '" border="0" alt="' . esc_attr($m4is_qvehs['alt']) . '" title="' . esc_attr($m4is_qvehs['title']). '" height="' . esc_attr($m4is_qvehs['size']) . '" width="' . esc_attr($m4is_qvehs['size']) . '" class="' . $m4is_qvehs['class'] . '"/>'; return m4is_qipkj::m4is__85o(false, $m4is_amunwi, '', $m4is_qvehs['capture'], '', '', ''); } static 
function m4is_v_s6p($m4is_qvehs, $m4is_amunwi = NULL, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'after' => '', 'before' => '', 'capture' => '', 'htmlattr' => '', 'name' => false, 'op' => 'show', 'txtfmt' => '', 'val' => 0, ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['name'] = strtolower(trim($m4is_qvehs['name']) ); if (empty($m4is_qvehs['name']) ) { return; } $m4is_q4c_xa = get_current_user_id();; if (! $m4is_q4c_xa) { return; }  $m4is_k2qb08 = ''; $m4is_ms_k = (int) self::$m4is_cpwjsn->m4is_r56ce($m4is_qvehs['name']); switch (strtolower($m4is_qvehs['op']) ) { case 'decr': if ( (int) $m4is_qvehs['val'] == 0) { $m4is_qvehs['val'] = 1; } $m4is_ms_k = $m4is_ms_k - (int) $m4is_qvehs['val']; break; case 'incr': if ( (int) $m4is_qvehs['val'] == 0) { $m4is_qvehs['val'] = 1; } $m4is_ms_k = $m4is_ms_k + (int) $m4is_qvehs['val']; break; case 'set': $m4is_ms_k = (int) $m4is_qvehs['val']; break; case 'show': case 'get': $m4is_k2qb08 = $m4is_ms_k; break; } self::$m4is_cpwjsn->m4is_l6yl($m4is_qvehs['name'], $m4is_ms_k); return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is_ypgvnw($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'after' => '', 'alt' => 'No membership levels found.', 'before' => '', 'capture' => '', 'format' => '<li>%%membershipname%% (%%tagid%%)</li>', 'htmlattr' => '', 'txtfmt' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_sxfbjo = isset($_SESSION) ? $_SESSION : []; if (! empty($m4is_sxfbjo['memb_user']['membership_tags']) ) { $m4is_g8ojt = explode(',', $m4is_sxfbjo['memb_user']['membership_tags']); $m4is_k2qb08 = ''; $m4is_znf9 = self::$m4is_bxv7u->m4is_ee0h(); $m4is_fdf0v = self::$m4is_bxv7u->m4is_mmdrl('memberships'); foreach ($m4is_g8ojt as $m4is_o46ba9) { $m4is_k2qb08 .= str_ireplace('%%tagid%%', $m4is_o46ba9, $m4is_qvehs['format']); $m4is_k2qb08 = str_ireplace('%%tagname%%', $m4is_znf9['mc'][$m4is_o46ba9], $m4is_k2qb08); $m4is_k2qb08 = str_ireplace('%%membershiplevel%%', $m4is_fdf0v[$m4is_o46ba9]['level'], $m4is_k2qb08); $m4is_k2qb08 = str_ireplace('%%membershipname%%', $m4is_fdf0v[$m4is_o46ba9]['name'], $m4is_k2qb08); } } else { $m4is_k2qb08 = $m4is_qvehs['alt']; } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is_tw0fm($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'mode' => 'plain', 'style' => 'color:#000;', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_lbt87 = m4is_xon4yh::m4is_pae7(); if ($m4is_lbt87) { $m4is_tuxsn = add_query_arg('rss_user', $m4is_lbt87, get_feed_link() ); } else { $m4is_tuxsn = get_feed_link(); } if ($m4is_qvehs['mode'] == 'input') { $m4is_ll9yd5 = strlen($m4is_tuxsn); $m4is_tuxsn = '<input class="memberium_feed_url" style="' . $m4is_qvehs['style'] . '" value="' . $m4is_tuxsn . '" disabled="disabled" size="' . $m4is_ll9yd5 * 0.9 . '">'; } elseif ($m4is_qvehs['mode'] == 'key') { $m4is_tuxsn = $m4is_lbt87; } return $m4is_tuxsn; } static 
function m4is_y4ylv($m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '') { if ( self::$m4is_kuzmd1 ) { return ''; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); static $m4is__iftk = 0; $m4is_p78sgz = [ 'css_class' => '', 'style' => '', 'button_text' => 'Get New RSS URL', 'button_url' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is__iftk++; $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_o_8l1 = 'memb_resetfeedurl_button-' . $m4is__iftk; $m4is_bgcfdt = 'memb_resetfeedurl_button_' . $m4is__iftk; $m4is_rpscuy = '<form method="post" action="">'; $m4is_rpscuy .= "<input type='hidden' name='memb_form_type' value='memb_resetfeedurl_button'>"; $m4is_rpscuy .= "<input type='hidden' name='form_id' value='{$m4is__iftk}'>"; $m4is_rpscuy .= wp_nonce_field("memb_resetfeedurl_{$m4is__iftk}", '_wpnonce', true, false); if (empty($m4is_qvehs['button_url']) ) { $m4is_rpscuy .= "<input type=\"submit\" class=\"{$m4is_qvehs['css_class']}\" id=\"{$m4is_bgcfdt}\" value=\"{$m4is_qvehs['button_text']}\">"; } else { $m4is_rpscuy .= "<input type=\"image\" src=\"{$m4is_qvehs['button_url']}\" class=\"{$m4is_qvehs['css_class']}\" id=\"{$m4is_bgcfdt}\" >"; } $m4is_rpscuy .= '</form>'; return $m4is_rpscuy; } static 
function m4is_vvu6r( $m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; }  $m4is_p78sgz = [ 'after' => '', 'before' => '', 'capture' => '', 'contact_id' => self::$m4is_aicfp, 'date_format' => '', 'default' => '', 'fields' => '', 'htmlattr' => '', 'separator' => ' ', 'txtfmt' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_aicfp = (int) $m4is_qvehs['contact_id'];  if (empty($m4is_qvehs['fields']) ) { return; } m4is_d8yr0_::m4is_vsv0mr(); if ($m4is_aicfp <> self::$m4is_aicfp ) { $m4is_i2t3ps = m4is_zbyh::m4is_w1bfmt( $m4is_aicfp, true ); } else { $m4is_i2t3ps = isset($_SESSION['keap']['contact']) ? $_SESSION['keap']['contact'] : []; } $m4is_fi64q = array_filter( explode( ',', $m4is_qvehs['fields'] ) ); $m4is_utphc = count( $m4is_fi64q ); $m4is_wnqi = 0; $m4is_k2qb08 = ''; $m4is_s0gl = $m4is_aicfp ? false : is_super_admin();  foreach ($m4is_fi64q as $m4is_sv3h) { if ( $m4is_s0gl ) { $m4is_njoq5 = 'Admin'; } else { $m4is_sv3h = strtolower( trim( $m4is_sv3h ) ); if (isset($m4is_i2t3ps[$m4is_sv3h]) ) { $m4is_pverx = strtotime($m4is_i2t3ps[$m4is_sv3h]); if ( $m4is_qvehs['date_format'] == '' || $m4is_pverx == 0 ) { $m4is_njoq5 = isset( $m4is_i2t3ps[$m4is_sv3h] ) ? htmlspecialchars( $m4is_i2t3ps[$m4is_sv3h] ) : ''; } else { $m4is_njoq5 = date( $m4is_qvehs['date_format'], $m4is_pverx ); } } else { $m4is_njoq5 = $m4is_qvehs['default']; } } $m4is_k2qb08 .= $m4is_njoq5; if ($m4is_utphc > 1) { $m4is_k2qb08 .= $m4is_qvehs['separator']; } } if ( $m4is_utphc > 1 && strlen( $m4is_qvehs['separator'] ) > 0 ) { $m4is_k2qb08 = substr( $m4is_k2qb08, 0, -strlen( $m4is_qvehs['separator'] ) ); } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, $m4is_qvehs['txtfmt'], $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is_kn75o( $m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } global $wpdb; $m4is_p78sgz = [ 'count' => 10, 'date_format' => 'F d, Y', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if (! is_user_logged_in() ) { return; } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['count'] = empty($m4is_qvehs['count']) ? 10 : (int) $m4is_qvehs['count']; $m4is_nzrv1 = wp_get_current_user(); $m4is_id576 = $m4is_nzrv1->user_login; $m4is_q7m2 = self::$m4is_bxv7u->m4is_re5x('appname'); $m4is_k2qb08 = ''; if (empty($m4is_amunwi) ) { $m4is_amunwi = '%%logintime%% - %%ipaddress%%<br />'; } $m4is_ioxk = "SELECT `logintime`, `ipaddress` FROM `" . MEMBERIUM_DB_LOGINLOG . "` WHERE `username` = '{$m4is_id576}' AND `appname` = '{$m4is_q7m2}' ORDER BY `logintime` DESC "; if ($m4is_qvehs['count']) { $m4is_ioxk .= ' LIMIT '. $m4is_qvehs['count']; } $m4is_jpzyit = $wpdb->get_results($m4is_ioxk, ARRAY_A); if (is_array($m4is_jpzyit) ) { foreach($m4is_jpzyit as $m4is_wo7c93) { $m4is__h0w = $m4is_amunwi; $m4is__h0w = str_ireplace('%%logintime%%', date($m4is_qvehs['date_format'], $m4is_wo7c93['logintime']), $m4is__h0w); $m4is__h0w = str_ireplace('%%ipaddress%%', $m4is_wo7c93['ipaddress'], $m4is__h0w); $m4is_k2qb08 .= $m4is__h0w; } } m4is_d8yr0_::m4is_vsv0mr(); return $m4is_k2qb08; } static 
function m4is_s2r70( $m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } if ( is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'count' => 10, 'id' => '', 'offset' => 0, 'order_by' => 'display_name', 'order_by' => 'memb_email', 'order' => 'ASC', 'roles' => 'subscriber', 'tag_id' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_k2qb08 = ''; $m4is_qvehs['order'] = strtoupper(trim($m4is_qvehs['order']) ); $m4is_qvehs['order_by'] = strtolower(trim($m4is_qvehs['order_by']) ); if (empty($m4is_amunwi) ) { } $m4is_qvehs['roles'] = trim($m4is_qvehs['roles']); if (! empty($m4is_qvehs['roles']) ) { $m4is_qvehs['roles'] = explode(',', $m4is_qvehs['roles']); $m4is_qvehs['roles'] = array_map('trim', $m4is_qvehs['roles']); $m4is_qvehs['roles'] = array_map('strtolower', $m4is_qvehs['roles']); $m4is_qvehs['roles'] = array_filter($m4is_qvehs['roles']); } else { $m4is_qvehs['roles'] = []; } $m4is_znf9 = trim($m4is_qvehs['tag_id']); if (! empty($m4is_znf9) ) { $m4is_znf9 = explode(',', $m4is_znf9); $m4is_znf9 = array_map('trim', $m4is_znf9); $m4is_znf9 = array_map('strtolower', $m4is_znf9); $m4is_znf9 = array_filter($m4is_znf9); $m4is_g8jyb = implode('|', $m4is_znf9); } else { $m4is_g8jyb = ''; }  $m4is_wip5cv = [ [ [ 'key' => 'memb_Groups', 'compare' => 'REGEXP',  'value' => "([[:<:]]|^){$m4is_g8jyb}([[:>:]]|$)", ], ], ]; if (! empty($m4is_qvehs['id'])) { $m4is_wip5cv[] = [ 'key' => 'infusionsoft_user_id', 'compare' => '=', 'value' => empty($m4is_qvehs['id']) ? 0 : $m4is_qvehs['id'], ]; } else { $m4is_wip5cv[] = [ 'key' => 'infusionsoft_user_id', 'compare' => '>', 'value' => 0, ]; } $m4is_w5ky4q = [ 'fields' => 'all', 'meta_key' => $m4is_qvehs['order_by'], 'meta_query' => $m4is_wip5cv, 'order' => $m4is_qvehs['order'], 'orderby' => 'meta_value', 'orderby' => $m4is_qvehs['order_by'], 'roles__in' => $m4is_qvehs['roles'], 'number' => (int) $m4is_qvehs['count'], 'offset' => (int) $m4is_qvehs['offset'],  ]; if (! empty($m4is_qvehs['roles']) ) { $m4is_w5ky4q['role__in'] = $m4is_qvehs['roles']; } $m4is_yj5ls9 = get_users($m4is_w5ky4q); $m4is_ncti = count($m4is_yj5ls9); foreach($m4is_yj5ls9 as $m4is_b40e_m => $m4is_nzrv1) { $m4is_q4c_xa = $m4is_nzrv1->data->ID; $m4is_aicfp = $m4is_nzrv1->infusionsoft_user_id; $m4is_yj5ls9[$m4is_b40e_m]->contact_fields = m4is_zbyh::m4is_w1bfmt($m4is_aicfp, true); } $m4is_w2971 = false !== stripos($m4is_amunwi, '%%contact.'); $m4is_nhzkat = false !== stripos($m4is_amunwi, '%%role.'); $m4is_p7ien = false !== stripos($m4is_amunwi, '%%user.'); $m4is_pwyv3 = false !== stripos($m4is_amunwi, '%%meta.'); $m4is_yoegm1 = false !== stripos($m4is_amunwi, '%%capability.'); $m4is_gcrzd = [ 'ID', 'user_nicename', 'user_url', 'user_registered', 'user_status', 'display_name' ]; if (isset($m4is_yj5ls9[0]->data->contact_fields[$m4is_qvehs['order_by']]) ) { usort($m4is_yj5ls9, function($u1, $u2) use ($m4is_qvehs) { $v1 = $u1->data->contact_fields[$m4is_qvehs['order_by']]; $v2 = $u2->data->contact_fields[$m4is_qvehs['order_by']]; return ($m4is_qvehs['order'] == 'ASC') ? strnatcasecmp($v1, $v2) : strnatcasecmp($v2, $v1); }); } if (is_array($m4is_yj5ls9) ) { $m4is_xvd3wf = 0; foreach($m4is_yj5ls9 as $m4is_nzrv1) { $m4is_i0ltb = $m4is_amunwi; $m4is_aicfp = $m4is_nzrv1->infusionsoft_user_id; $m4is_nq7s = m4is_zbyh::m4is_w1bfmt($m4is_aicfp); if (is_array($m4is_nq7s) && ! empty($m4is_nq7s['Email']) ) { $m4is_xvd3wf++; if ($m4is_w2971) { foreach($m4is_nq7s as $m4is_ap3_ => $m4is_rhfd) { $m4is_i0ltb = str_ireplace('%%contact.' . $m4is_ap3_ . '%%', $m4is_rhfd, $m4is_i0ltb); } } if ($m4is_nhzkat) { foreach($m4is_nzrv1->roles as $m4is_ap3_ => $m4is_rhfd) { $m4is_i0ltb = str_ireplace('%%role.' . $m4is_ap3_ . '%%', $m4is_rhfd, $m4is_i0ltb); } } if ($m4is_pwyv3) { $m4is_i0ltb = str_ireplace('%%meta.ipaddress%%', $m4is_nzrv1->login_ip_address, $m4is_i0ltb); $m4is_i0ltb = str_ireplace('%%meta.login_count%%', (int) $m4is_nzrv1->login_count, $m4is_i0ltb); } if ($m4is_p7ien) { foreach($m4is_gcrzd as $m4is_ap3_) { $m4is_i0ltb = str_ireplace('%%user.' . $m4is_ap3_ . '%%', $m4is_nzrv1->data->$m4is_ap3_, $m4is_i0ltb); } } $m4is_k2qb08 = preg_replace('/(%%\S+%%)/', '', $m4is_k2qb08); $m4is_k2qb08 .= $m4is_i0ltb; } } } $m4is_k2qb08 = do_shortcode($m4is_k2qb08); return $m4is_k2qb08; } static 
function m4is_x46dr( $m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'tokens' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $user_id = get_current_user_id(); if (! $user_id) { return; } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); self::$m4is_bxv7u->m4is_qv5mn($m4is_qvehs['tokens']); } static 
function m4is_w13y( $m4is_qvehs, $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is__iftk = 0; m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'actionset' => '', 'button_text' => 'Get New Password', 'email_label' => 'Username or Email', 'form_name' => 'lostpasswordform', 'goal' => '', 'redirect' => '', 'redirect' => '', 'tag_id' => 0, ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } if ( self::$m4is_bxv7u->m4is_mmdrl('settings', 'disable_lost_password') ) { if ( self::$m4is_bxv7u->m4is_fop0d() ) { return '<p><strong style="color:red;">Admin Notice:</strong>  Lost password feature disabled in Site Security settings.</p>'; } return ''; } if (is_user_logged_in() ) { if (is_super_admin() ) { return '<p><strong style="color:red;">Admin Notice:</strong>  You are already logged in.</p>'; } return ''; } if (is_feed() ) { return ''; } $m4is__iftk++; $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['form_name'] = '_' . $m4is__iftk; $m4is_qvehs['redirect'] = empty($m4is_qvehs['redirect']) ? get_site_url() : $m4is_qvehs['redirect']; $m4is_j0n7 = [ 'actionset' => $m4is_qvehs['actionset'], 'goal' => $m4is_qvehs['goal'], 'redirect' => $m4is_qvehs['redirect'], 'tag_id' => $m4is_qvehs['tag_id'], ]; $m4is_dn09xt = base64_encode(serialize($m4is_j0n7) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_dn09xt); $m4is_rpscuy = ''; $m4is_j0n7 = new stdclass; $m4is_j0n7->goal = $m4is_qvehs['goal']; $m4is_j0n7->actionset = $m4is_qvehs['actionset']; $m4is_j0n7->button_text = $m4is_qvehs['button_text']; $m4is_j0n7->email_label = $m4is_qvehs['email_label']; $m4is_j0n7->form_id = $m4is__iftk; $m4is_j0n7->form_name = $m4is_qvehs['form_name']; $m4is_j0n7->message = ''; $m4is_j0n7->parameters = $m4is_dn09xt; $m4is_j0n7->redirect = $m4is_qvehs['redirect']; $m4is_j0n7->signature = $m4is_k_fdu; $m4is_j0n7->tag_id = $m4is_qvehs['tag_id']; if (isset($_SESSION['flash']['lost_password_message']) ) { $m4is_j0n7->message = $_SESSION['flash']['lost_password_message']; unset($_SESSION['flash']['lost_password_message']); } return m4is_qipkj::m4is_jers4($m4is_rz70ok, $m4is_qvehs, $m4is_amunwi, $m4is_rz70ok, $m4is_j0n7); } static 
function m4is_v8mw2u( $m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is_p1ug = ''; $m4is_p78sgz = [ 'length' => self::$m4is_bxv7u->m4is_mmdrl('settings', 'min_password_length'), 'strength' => self::$m4is_bxv7u->m4is_mmdrl('settings', 'password_strength'), 'repeat' => true, ]; if ( isset( $m4is_qvehs[0] ) && $m4is_qvehs[0] == 'showatts' ) { return implode( ',', array_keys( $m4is_p78sgz ) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['repeat'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['repeat'], true); if ( empty($m4is_p1ug) || $m4is_qvehs['repeat'] === false ) { $m4is_p1ug = self::$m4is_bxv7u->m4is_v8mw2u( $m4is_qvehs['length'], $m4is_qvehs['strength'] ); } return $m4is_p1ug; } }
