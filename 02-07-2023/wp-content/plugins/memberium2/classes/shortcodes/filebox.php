<?php
/**
 * Copyright (c) 2017-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); m4is_kn8f::m4is_gopgz(); final 
class m4is_kn8f { static private $m4is_bxv7u, $m4is_aicfp, $m4is_gwtb03, $m4is_kuzmd1; static 
function m4is_gopgz() { self::$m4is_bxv7u = memberium_app(); self::$m4is_aicfp = self::$m4is_bxv7u->m4is_w47qdy(); self::$m4is_gwtb03 = self::$m4is_bxv7u->m4is_wnlbj_(); self::$m4is_kuzmd1 = ! m4is_o5aoir::m4is_du5icq(); }    static 
function m4is_b6we( $m4is_qvehs = [], $m4is_amunwi = '', $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } $m4is_p78sgz = [ 'capture' => '', 'file_id' => 0, 'missing_text' => 'No such file.', 'text' => 'Click here to Download', ]; if ( isset( $m4is_qvehs[0] ) && $m4is_qvehs[0] == 'showatts' ) { return implode( ',', array_keys( $m4is_p78sgz ) ); } $m4is_qvehs = shortcode_atts( $m4is_p78sgz, $m4is_qvehs, 'memberium' ); $m4is_k2qb08 = ''; $m4is_qvehs['file_id'] = (int) $m4is_qvehs['file_id']; if ( $m4is_qvehs['file_id'] > 0 ) { $m4is_zc62 = self::$m4is_gwtb03->getDownloadUrl( (int) $m4is_qvehs['file_id'] ); } if ( $m4is_zc62 > '' && strpos( $m4is_zc62, 'http' ) !== false ) { $m4is_k2qb08 = '<a href="' . $m4is_zc62 . '">' . htmlspecialchars( $m4is_qvehs['text'] ) . '</a>'; } else { $m4is_k2qb08 = $m4is_qvehs['missing_text']; } if ( ! empty( $m4is_qvehs['capture'] ) ) { $m4is_k2qb08 = m4is_qipkj::m4is_umhnz( $m4is_k2qb08, $m4is_qvehs['capture'] ); } return $m4is_k2qb08; } static 
function m4is_olxo( $m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } $m4is_p78sgz = [ 'capture' => '', 'htmlattr' => '', 'file_id' => 0, ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts( $m4is_p78sgz, $m4is_qvehs, 'memberium' ); $m4is_qvehs['file_id'] = (int) $m4is_qvehs['file_id']; if ( $m4is_qvehs['file_id'] > 0 ) { $m4is_zc62 = self::$m4is_gwtb03->getDownloadUrl( $m4is_qvehs['file_id'] ); } if ($m4is_zc62 > '' && strpos($m4is_zc62, 'http') !== FALSE) { $m4is_k2qb08 = $m4is_zc62; } else { $m4is_k2qb08 = ''; } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, '', $m4is_qvehs['capture'], $m4is_qvehs['htmlattr'], '', ''); } static 
function m4is_bwpn( $m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'contact_id' => self::$m4is_aicfp, 'filter' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['contact_id'] = (int) $m4is_qvehs['contact_id']; if ( empty( $m4is_qvehs['contact_id'] ) ) { return; } $m4is_k2qb08 = ''; $m4is_npwiyu = self::$m4is_bxv7u->m4is_s6vju( $m4is_qvehs['contact_id'], true ); if (! empty($m4is_qvehs['filter']) ) { if (is_array($m4is_npwiyu) && ! empty($m4is_npwiyu) ) { foreach ($m4is_npwiyu as $m4is_ap3_ => $m4is_qfup8) { if (stripos($m4is_qfup8['filename'], $m4is_qvehs['filter']) === false) { unset($m4is_npwiyu[$m4is_ap3_]); } } } } unset($m4is_qfup8); $m4is_w0o42 = count($m4is_npwiyu) > 0; if ($m4is_w0o42 && empty($m4is_amunwi) ) { $m4is_amunwi = '<p>
			%%line%% - %%cycler%%<br />
			filesize: %%filebox.filesize%%<br />
			filebytes: %%filebox.filebytes%%<br />
			extension: %%filebox.extension%%<br />
			filename: %%filebox.filename%%<br />
			id: %%filebox.id%%<br/>
			public: %%filebox.public%%<br/>
			<a href="%%filebox.openlink%%">open</a><br/>
			<a href="%%filebox.downloadlink%%">Download</a><br/>
			</p>'; } $m4is_amunwi = m4is_qipkj::m4is_mngd87($m4is_amunwi, $m4is_rz70ok, true, $m4is_w0o42); $m4is_w582e = 0; if ($m4is_w0o42) { foreach ($m4is_npwiyu as $m4is_ap3_ => $m4is_qfup8) { $m4is_w582e++; $m4is_w4jye7 = $m4is_amunwi; if ($m4is_w582e % 2) { $m4is_po54x = 'odd'; } else { $m4is_po54x = 'even'; } $m4is_y29c4 = wp_nonce_url('?filebox_id=' . urlencode($m4is_qfup8['id']) . '&filename=' . urlencode($m4is_qfup8['filename']), 'filebox_download::' . $m4is_qfup8['id'], 'signature'); $m4is_f3pf = wp_nonce_url('?filebox_id=' . urlencode($m4is_qfup8['id']) . '&filename=' . urlencode($m4is_qfup8['filename']) . '&viewable=1', 'filebox_download::' . $m4is_qfup8['id'], 'signature'); $m4is_w4jye7 = str_ireplace('%%line%%', $m4is_w582e, $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%cycler%%', $m4is_po54x, $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.filesize%%', self::$m4is_bxv7u->m4is_xm34($m4is_qfup8['filesize'], 0), $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.filebytes%%', $m4is_qfup8['filesize'], $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.extension%%', $m4is_qfup8['extension'], $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.filename%%', $m4is_qfup8['filename'], $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.id%%', $m4is_qfup8['id'], $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.public%%', $m4is_qfup8['public'], $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.link%%', '?filebox_id=' . urlencode($m4is_qfup8['id']) . '&filename=' . urlencode($m4is_qfup8['filename']), $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.openlink%%', $m4is_f3pf, $m4is_w4jye7); $m4is_w4jye7 = str_ireplace('%%filebox.downloadlink%%', $m4is_y29c4, $m4is_w4jye7); $m4is_k2qb08 .= do_shortcode($m4is_w4jye7); } } else { $m4is_k2qb08 .= do_shortcode($m4is_amunwi); } return $m4is_k2qb08; } static 
function m4is_z5yi( $m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } if (is_feed() ) { return; } if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return 'n/a'; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_fgxy = ''; if (is_user_logged_in() ) { $m4is_ap3_ = 'memberium::file_upload_msg::' . get_current_user_id(); $m4is_fgxy = trim(get_transient($m4is_ap3_) ); delete_transient($m4is_ap3_); } if (empty($m4is_fgxy) ) { $m4is_fgxy = m4is_pcys::m4is_a6x52r()->m4is_lg_a(); } return $m4is_fgxy; }  static 
function m4is_l_o1($m4is_qvehs = [], $m4is_amunwi = null, $m4is_rz70ok = '' ) { if ( self::$m4is_kuzmd1 ) { return ''; } static $m4is_ms_k = 1; if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_p78sgz = [ 'button_text' => 'Upload', 'contact_id' => self::$m4is_aicfp, 'error_msg' => 'Your file upload failed.', 'failure_actionsets' => '', 'failure_goals' => '', 'failure_tags' => '', 'failure_url' => '', 'maxsize' => 10000000, 'multiple' => false, 'no_errors' => false, 'rename' => '', 'success_actionsets' => '', 'success_goals' => '', 'success_msg' => 'Your file upload completed.', 'success_tags' => '', 'success_url' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_qvehs['multiple'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['multiple'], false); $m4is_qvehs['no_errors'] = m4is_qipkj::m4is_vhjg($m4is_qvehs['no_errors'], false); $m4is_qvehs['maxsize'] = (int) wp_convert_hr_to_bytes($m4is_qvehs['maxsize']); $m4is_kdf0 = ''; if (! $m4is_qvehs['contact_id']) { return; } if ($m4is_qvehs['maxsize'] > 10000000 || $m4is_qvehs['maxsize'] < 1) { $m4is_qvehs['maxsize'] = 10000000; } if ($m4is_qvehs['multiple']) { $m4is_kdf0 = ' multiple="multiple" '; } $m4is_gyps9 = base64_encode(serialize([ 'contact_id' => $m4is_qvehs['contact_id'], 'error_msg' => $m4is_qvehs['error_msg'], 'failure_actionsets' => $m4is_qvehs['failure_actionsets'], 'failure_goals' => $m4is_qvehs['failure_goals'], 'failure_tags' => $m4is_qvehs['failure_tags'], 'failure_url' => $m4is_qvehs['failure_url'], 'maxsize' => $m4is_qvehs['maxsize'], 'no_errors' => $m4is_qvehs['no_errors'], 'rename' => $m4is_qvehs['rename'], 'success_actionsets' => $m4is_qvehs['success_actionsets'], 'success_goals' => $m4is_qvehs['success_goals'], 'success_msg' => $m4is_qvehs['success_msg'], 'success_tags' => $m4is_qvehs['success_tags'], 'success_url' => $m4is_qvehs['success_url'], ] ) ); $m4is_k_fdu = self::$m4is_bxv7u->m4is_rxyecs($m4is_gyps9); $m4is_k2qb08 = '<form id="upload_' . $m4is_ms_k . '" action="" method="POST" enctype="multipart/form-data">' . '<input type="hidden" name="memb_form_type" value="memb_filebox_upload">' . '<input type="hidden" name="params" value="' . $m4is_gyps9 . '">' . '<input type="hidden" name="signature" value="' . $m4is_k_fdu . '">' . '<fieldset>' . '<input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="' . $m4is_qvehs['maxsize'] . '" />' . '<div>' . '<label for="fileselect">Files to upload:</label>' . '<input type="file" id="fileselect_' . $m4is_ms_k . '" name="uploadedfiles[]" ' . $m4is_kdf0 . ' required="required"/>' . '</div>' . '<div id="submitbutton_' . $m4is_ms_k . '">' . '<button type="submit">' . $m4is_qvehs['button_text'] . '</button>' . '</div>' . '</fieldset>'. '</form>'; $m4is_ms_k++; return $m4is_k2qb08; } }
