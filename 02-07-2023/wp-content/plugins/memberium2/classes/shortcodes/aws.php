<?php
/**
 * Copyright (c) 2017-2022 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 class_exists('m4is_emz57o') || die(); m4is_ooiq::m4is_gopgz(); final 
class m4is_ooiq { static $m4is_kym_ = 4; static 
function m4is_gopgz() { }  static 
function m4is_moq201( $m4is_qvehs = [], $m4is_amunwi = '', $m4is_rz70ok = '' ) { if (! m4is_o5aoir::m4is_du5icq() ) { return; }  $m4is_noaw = $m4is_qvehs; $m4is_qvehs['profile'] = isset($m4is_qvehs['profile']) ? strtolower(trim($m4is_qvehs['profile'])) : 'us-east-1'; $m4is_rpad = self::m4is_j726($m4is_qvehs['profile']);  if ($m4is_rpad) { $m4is_g4ulmz = $m4is_qvehs['profile']; $m4is_ax3q2 = $m4is_rpad['bucket']; $m4is_l0ps45 = (int) $m4is_rpad['expiration']; $m4is_pjyva_ = $m4is_rpad['host']; $m4is_cuqw = empty($m4is_rpad['region']) ? '' : $m4is_rpad['region']; $m4is_s70l6b = $m4is_rpad['access_key']; $m4is_xrba = $m4is_rpad['secret_key']; } else { $m4is_g4ulmz = ''; $m4is_ax3q2 = ''; $m4is_l0ps45 = 5; $m4is_cuqw = 'us-east-1'; $m4is_pjyva_ = ''; $m4is_s70l6b = ''; $m4is_xrba = ''; } $m4is_p78sgz = [ 'action_ids' => '',  'after' => '', 'before' => '', 'bucket' => $m4is_ax3q2, 'debug' => 0, 'direct_link' => 'no',  'expiring' => $m4is_l0ps45, 'fus_ids' => '',  'goals' => '', 'htmlattr' => '', 'object' => '', 'profile' => $m4is_g4ulmz, 'protocol' => 'https', 'region' => $m4is_cuqw, 'require_login' => 'no',  'tag_ids' => '', 'tokens' => '', 'version' => self::$m4is_kym_,  'class' => '', 'download' => '', 'id' => '', 'rel' => '', 'style' => '', 'target' => '', 'type' => '', ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_k2qb08 = '';  if (strtolower(trim($m4is_qvehs['direct_link']) ) == 'no') { $m4is_lksgv_ = empty($_SERVER['REQUEST_URI']) ? '' : $_SERVER['REQUEST_URI']; $m4is_edow = []; $m4is_edow['actionset'] = $m4is_qvehs['action_ids']; $m4is_edow['debug'] = $m4is_qvehs['debug']; $m4is_edow['expiring'] = $m4is_qvehs['expiring']; $m4is_edow['fus'] = $m4is_qvehs['fus_ids']; $m4is_edow['goals'] = $m4is_qvehs['goals']; $m4is_edow['object'] = $m4is_qvehs['object']; $m4is_edow['profile'] = $m4is_qvehs['profile']; $m4is_edow['protocol'] = $m4is_qvehs['protocol']; $m4is_edow['region'] = $m4is_qvehs['region']; $m4is_edow['require_login'] = $m4is_qvehs['require_login']; $m4is_edow['tags'] = $m4is_qvehs['tag_ids']; $m4is_edow['tokens'] = $m4is_qvehs['tokens']; $m4is_edow['version'] = $m4is_qvehs['version']; if (strpos($m4is_lksgv_, '?') === false) { $m4is_lksgv_ .= '?'; } else { $m4is_lksgv_ .= '&'; } $m4is_dn09xt = base64_encode(serialize($m4is_edow) ); $m4is__mto = 'memb_s3link=' . $m4is_dn09xt;  $m4is_ho0w2 = 'verification'; $m4is_edow = $m4is_dn09xt; $action_url = wp_nonce_url($m4is__mto, $m4is_edow, $m4is_ho0w2);   $m4is_vkc5 = $m4is_lksgv_ . $action_url; } else { if ($m4is_qvehs['version'] == 3) { $m4is_vkc5 = self::m4is_c_7cgt($m4is_s70l6b, $m4is_xrba, $m4is_qvehs['protocol'], $m4is_pjyva_, $m4is_qvehs['bucket'], $m4is_qvehs['object'], $m4is_qvehs['expiring']); } elseif ($m4is_qvehs['version'] == 4) {  $m4is_vkc5 = self::m4is_y2t_3($m4is_s70l6b, $m4is_xrba, $m4is_qvehs['bucket'], $m4is_qvehs['object'], $m4is_qvehs['expiring'], $m4is_qvehs['region']); } } if (strtolower($m4is_qvehs['htmlattr']) == 'all') { $m4is_xte4uv = [ 'action_ids', 'after', 'before', 'bucket', 'debug', 'direct_link', 'expiring', 'fus_ids', 'goals', 'htmlattr', 'object', 'profile', 'protocol', 'require_login', 'tag_ids', 'tokens', ]; $m4is_k2qb08 = '<a href="' . $m4is_vkc5 . '"'; foreach($m4is_noaw as $m4is_e3k_mi => $m4is_waxrhu) { if (! empty($m4is_noaw[$m4is_e3k_mi]) && ! in_array($m4is_e3k_mi, $m4is_xte4uv) ) { $m4is_k2qb08 .= ' ' . $m4is_e3k_mi . '="' . $m4is_waxrhu . '" '; } } $m4is_k2qb08 .= '>' . $m4is_amunwi . '</a>'; $m4is_qvehs['htmlattr'] = ''; } else { $m4is_k2qb08 = $m4is_vkc5; } return m4is_qipkj::m4is__85o(false, $m4is_k2qb08, '', '', $m4is_qvehs['htmlattr'], $m4is_qvehs['before'], $m4is_qvehs['after']); } static 
function m4is__8ur($m4is_qvehs = [], $m4is_amunwi = '', $m4is_rz70ok = '' ) { if ( ! m4is_o5aoir::m4is_du5icq() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); if ( is_feed() ) { return; } $m4is_noaw = $m4is_qvehs; $m4is_qvehs['profile'] = isset($m4is_qvehs['profile']) ? strtolower(trim($m4is_qvehs['profile'])) : 'us-east-1'; $m4is_rpad = self::m4is_j726($m4is_qvehs['profile']);  if ($m4is_rpad) { $m4is_g4ulmz = $m4is_qvehs['profile']; $m4is_ax3q2 = $m4is_rpad['bucket']; $m4is_l0ps45 = (int) $m4is_rpad['expiration']; $m4is_pjyva_ = $m4is_rpad['host']; $m4is_cuqw = $m4is_rpad['region']; $m4is_s70l6b = $m4is_rpad['access_key']; $m4is_xrba = $m4is_rpad['secret_key']; } else { $m4is_g4ulmz = ''; $m4is_ax3q2 = ''; $m4is_l0ps45 = 5; $m4is_cuqw = 'us-east-1'; $m4is_pjyva_ = ''; $m4is_s70l6b = ''; $m4is_xrba = ''; } static $m4is_hw9v8b = 0; $m4is_hw9v8b++; $m4is_p78sgz = [ 'autoplay' => '', 'bucket' => $m4is_ax3q2, 'controls' => '', 'direct_link' => 'no',  'download' => 0, 'expiring' => $m4is_l0ps45, 'height' => 0, 'loop' => '', 'muted' => '', 'object' => '', 'poster' => '', 'preload' => '', 'profile' => $m4is_g4ulmz, 'protocol' => 'https', 'region' => $m4is_cuqw, 'require_login' => 'no',  'version' => 3,  'src' => '', 'width' => 0, ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium'); $m4is_jnrw = ''; $m4is_rpscuy = ''; if ($m4is_qvehs['version'] == 3) { $m4is__mto = self::m4is_c_7cgt($m4is_s70l6b, $m4is_xrba, $m4is_qvehs['protocol'], $m4is_pjyva_, $m4is_qvehs['bucket'], $m4is_qvehs['object'], $m4is_qvehs['expiring']); } elseif ($m4is_qvehs['version'] == 4) {  $m4is__mto = self::m4is_y2t_3($m4is_s70l6b, $m4is_xrba, $m4is_ax3q2, $m4is_i4zx_, $m4is_dczkma = 0, $m4is_cuqw, $m4is_sxzhc = [] ); } $m4is_jm_lf = ($m4is_qvehs['width'] > 0) ? ' style="width:' . $m4is_qvehs['width'] . 'px;" ': ''; $m4is_rpscuy .= '<div '. $m4is_jm_lf .' class="wp-video">'; $m4is_rpscuy .= '<audio class="wp-audio-shortcode" id="secureaudio-' . $m4is_hw9v8b . '" '; if ($m4is_qvehs['width'] > 0) { $m4is_rpscuy .= ' width="' . $m4is_qvehs['width'] . '" '; } if ($m4is_qvehs['height'] > 0) { $m4is_rpscuy .= ' height="' . $m4is_qvehs['height'] . '" '; } if ($m4is_qvehs['preload'] > '') { $m4is_rpscuy .= ' autobuffer="autobuffer" preload="' . $m4is_qvehs['preload'] . '" '; } if ($m4is_qvehs['controls'] > '') { $m4is_rpscuy .= ' controls="controls" '; } if ($m4is_qvehs['autoplay'] > '') { $m4is_rpscuy .= ' autoplay="autoplay" '; } if ($m4is_qvehs['muted'] > '') { $m4is_rpscuy .= ' muted="muted" '; } if ($m4is_qvehs['poster'] > '') { $m4is_rpscuy .= ' poster="' . $m4is_qvehs['poster'] . '" '; } if (! empty($m4is_qvehs['loop']) ) { $m4is_rpscuy .= ' loop="' . $m4is_qvehs['loop'] . '" '; } if (! $m4is_qvehs['download']) { $m4is_rpscuy .= ' controlsList="nodownload" '; } $m4is_rpscuy .= '>'; $m4is_rpscuy .= '<source src="' . $m4is__mto .'" />'; $m4is_rpscuy .= '</audio></div>'; return $m4is_rpscuy; } static 
function m4is_zeqb9($m4is_qvehs = [], $m4is_amunwi = '', $m4is_rz70ok = '' ) { if (! m4is_o5aoir::m4is_du5icq() ) { return; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); static $m4is_hw9v8b = 0; $m4is_hw9v8b++; $m4is_qvehs['profile'] = isset($m4is_qvehs['profile']) ? strtolower(trim($m4is_qvehs['profile'])) : 'us-east-1'; $m4is_rpad = self::m4is_j726($m4is_qvehs['profile']); $m4is_jm_lf = ''; if ($m4is_rpad) { $m4is_g4ulmz = $m4is_qvehs['profile']; $m4is_ax3q2 = $m4is_rpad['bucket']; $m4is_l0ps45 = (int) $m4is_rpad['expiration']; $m4is_pjyva_ = $m4is_rpad['host']; $m4is_cuqw = $m4is_rpad['region']; $m4is_s70l6b = $m4is_rpad['access_key']; $m4is_xrba = $m4is_rpad['secret_key']; } else { $m4is_g4ulmz = ''; $m4is_ax3q2 = ''; $m4is_l0ps45 = 5; $m4is_cuqw = 'us-east-1'; $m4is_pjyva_ = ''; $m4is_s70l6b = ''; $m4is_xrba = ''; } $m4is_p78sgz = [ 'autoplay' => '', 'bucket' => $m4is_ax3q2, 'controls' => '', 'direct_link' => 'no',  'expiring' => $m4is_l0ps45, 'height' => 0, 'loop' => '', 'muted' => '', 'object' => '', 'poster' => '', 'preload' => '', 'profile' => $m4is_g4ulmz, 'protocol' => 'https', 'require_login' => 'no',  'src' => '', 'version' => 3,  'width' => 0, ]; if (isset($m4is_qvehs[0]) && $m4is_qvehs[0] == 'showatts') { return implode(',', array_keys($m4is_p78sgz) ); } $m4is_qvehs = shortcode_atts($m4is_p78sgz, $m4is_qvehs, 'memberium');  $m4is_jnrw = ''; $m4is_rpscuy = '';   if (false && strtolower(trim($m4is_qvehs['direct_link']) ) == 'no') {  } else { if ($m4is_qvehs['version'] == 3) { $m4is__mto = self::m4is_c_7cgt($m4is_s70l6b, $m4is_xrba, $m4is_qvehs['protocol'], $m4is_pjyva_, $m4is_qvehs['bucket'], $m4is_qvehs['object'], $m4is_qvehs['expiring']); } elseif ($m4is_qvehs['version'] == 4) {  $m4is__mto = self::m4is_y2t_3($m4is_s70l6b, $m4is_xrba, $m4is_ax3q2, $m4is_i4zx_, $m4is_dczkma = 0, $m4is_cuqw = 'us-east-1', $m4is_sxzhc = [] ); } } if ($m4is_qvehs['width'] > 0) { $m4is_jm_lf = ' style="width:' . $m4is_qvehs['width'] . 'px;" '; } $m4is_rpscuy .= '<div '. $m4is_jm_lf .' class="wp-video">'; $m4is_rpscuy .= '<video class="wp-video-shortcode" id="securevideo-' . $m4is_hw9v8b . '" '; if ($m4is_qvehs['width'] > 0) { $m4is_rpscuy .= ' width="' . $m4is_qvehs['width'] . '" '; } if ($m4is_qvehs['height'] > 0) { $m4is_rpscuy .= ' height="' . $m4is_qvehs['height'] . '" '; } if ($m4is_qvehs['preload'] > '') { $m4is_rpscuy .= ' autobuffer="autobuffer" preload="' . $m4is_qvehs['preload'] . '" '; } if ($m4is_qvehs['controls'] > '') { $m4is_rpscuy .= ' controls="controls" '; } if ($m4is_qvehs['autoplay'] > '') { $m4is_rpscuy .= ' autoplay="autoplay" '; } if ($m4is_qvehs['muted'] > '') { $m4is_rpscuy .= ' muted="muted" '; } if ($m4is_qvehs['poster'] > '') { $m4is_rpscuy .= ' poster="' . $m4is_qvehs['poster'] . '" '; } if ($m4is_qvehs['loop'] > '') { $m4is_rpscuy .= ' loop="' . $m4is_qvehs['loop'] . '" '; } $m4is_rpscuy .= '>'; $m4is_rpscuy .= '<source src="' . $m4is__mto .'" />'; $m4is_rpscuy .= '</video></div>'; return $m4is_rpscuy; }     static 
function m4is_ci2bs() { if (! wp_verify_nonce($_GET['verification'], $_GET['memb_s3link']) ) { return; } if (is_feed() ) { return; } m4is_d8yr0_::m4is_vsv0mr(); $m4is_bxv7u = memberium_app(); $m4is_vj4p = is_user_logged_in(); $m4is_edow = unserialize( base64_decode( $_GET['memb_s3link'] ) ); $m4is_adiq = (boolean) $m4is_edow['debug'] == 1; if ($m4is_adiq) { echo __LINE__, ' - Region:                 ', $m4is_edow['region'], '<br />'; echo __LINE__, ' - Version:                ', $m4is_edow['version'], '<br />'; echo __LINE__, ' - Protocol:               ', $m4is_edow['protocol'], '<br />'; echo __LINE__, ' - Require Login?:         ', $m4is_edow['require_login'], '<br />'; echo __LINE__, ' - Set Actionset:          ', $m4is_edow['actionset'], '<br />'; echo __LINE__, ' - Set Debug:              ', $m4is_edow['debug'], '<br />'; echo __LINE__, ' - Set Expiration:         ', $m4is_edow['expiring'], ' seconds<br />'; echo __LINE__, ' - Set Follow Up Sequence: ', $m4is_edow['fus'], '<br />'; echo __LINE__, ' - Set Goals:              ', $m4is_edow['goals'], '<br />'; echo __LINE__, ' - Set Object:             ', $m4is_edow['object'], '<br />'; echo __LINE__, ' - Set Profile:            ', $m4is_edow['profile'], '<br />'; echo __LINE__, ' - Set Tags:               ', $m4is_edow['tags'], '<br />'; echo __LINE__, ' - Tokens:                 ', $m4is_edow['tokens'], '<br />'; } if ( $m4is_edow['require_login'] == 'yes' && ! $m4is_vj4p ) { if ( $m4is_adiq ) { echo __LINE__, " - Login Required, returning to referring page"; echo '<a href="', $_SERVER['HTTP_REFERER'], '">Continue</a>'; exit; } m4is_d8yr0_::m4is_okts(); wp_redirect($_SERVER['HTTP_REFERER']); exit; } $m4is_aicfp = $m4is_bxv7u->m4is_w47qdy(); if ($m4is_aicfp) { if (! empty($m4is_edow['actionset']) ) { $m4is_bxv7u->m4is_evrbh($m4is_edow['actionset'], $m4is_aicfp); } if (! empty($m4is_edow['fus']) ) { $m4is_bxv7u->m4is_qrlqb6($m4is_edow['fus'], $m4is_aicfp); } if (! empty($m4is_edow['goals']) ) { $m4is_bxv7u->m4is_rctzo($m4is_edow['goals'], $m4is_aicfp); } if (! empty($m4is_edow['tags']) ) { $m4is_bxv7u->m4is__mkz($m4is_edow['tags'], $m4is_aicfp); } if (! empty($m4is_edow['tokens']) ) { $m4is_bxv7u->m4is_qv5mn($m4is_edow['tokens']); } } $m4is_y0c7fw = $m4is_bxv7u->m4is_mmdrl( 'remote_files' ); $m4is_g4ulmz = strtolower( trim( $m4is_edow['profile'] ) ); if ( isset( $m4is_y0c7fw[$m4is_g4ulmz] ) ) { $m4is_ax3q2 = $m4is_y0c7fw[$m4is_g4ulmz]['bucket']; $m4is_pjyva_ = $m4is_y0c7fw[$m4is_g4ulmz]['host']; $m4is_s70l6b = $m4is_y0c7fw[$m4is_g4ulmz]['access_key']; $m4is_xrba = $m4is_y0c7fw[$m4is_g4ulmz]['secret_key']; if ($m4is_adiq) { echo __LINE__, ' - Host: ', $m4is_pjyva_, '<br />'; echo __LINE__, ' - Bucket: ', $m4is_ax3q2, '<br />'; } } $m4is_l0ps45 = $m4is_edow['expiring']; $m4is_bigvm = $m4is_edow['protocol']; $m4is_hnueg9 = $m4is_edow['object']; $m4is_cuqw = $m4is_edow['region']; if ( $m4is_edow['version'] == 3 ) { $m4is__mto = self::m4is_c_7cgt( $m4is_s70l6b, $m4is_xrba, $m4is_bigvm, $m4is_pjyva_, $m4is_ax3q2, $m4is_hnueg9, $m4is_l0ps45 ); } elseif ($m4is_edow['version'] == 4) {  $m4is__mto = self::m4is_y2t_3( $m4is_s70l6b, $m4is_xrba, $m4is_ax3q2, $m4is_hnueg9, $m4is_l0ps45, $m4is_cuqw ); } if ($m4is_adiq) { echo __LINE__, ' - URL: <a href="', $m4is__mto, '">', $m4is__mto, '</a><br />'; exit; } else { m4is_d8yr0_::m4is_okts(); wp_redirect($m4is__mto); exit; } }    private static 
function m4is_j726( string $m4is_ho0w2 ) { $m4is_g8qm = memberium_app()->m4is_mmdrl('remote_files'); return isset($m4is_g8qm[$m4is_ho0w2]) ? $m4is_g8qm[$m4is_ho0w2] : false; } private static 
function m4is_e4uzj($m4is_ap3_, $m4is_j0n7, $m4is_wd6e7c = 64) { if (strlen($m4is_ap3_) > $m4is_wd6e7c) { $m4is_ap3_ = pack('H*', sha1($m4is_ap3_) ); } $m4is_ap3_ = str_pad($m4is_ap3_, $m4is_wd6e7c, chr(0x00) ); $m4is_b9b_ = str_repeat(chr(0x36), $m4is_wd6e7c); $m4is_btend = str_repeat(chr(0x5c), $m4is_wd6e7c); $m4is_yq096i = pack('H*', sha1( ($m4is_ap3_ ^ $m4is_btend) . pack('H*', sha1( ($m4is_ap3_ ^ $m4is_b9b_) . $m4is_j0n7) ) ) ); return base64_encode($m4is_yq096i); } private static 
function m4is_c_7cgt($m4is_s70l6b, $m4is_xrba, $m4is_bigvm, $m4is_pjyva_, $m4is_ax3q2, $m4is_s3dnu, $m4is_bpvai = 30) { $m4is_dczkma = time() + (int) $m4is_bpvai; $m4is_s3dnu = str_replace('%2F', '/', rawurlencode($m4is_s3dnu = ltrim($m4is_s3dnu, '/') ) ); $m4is_e50tl = '/'. $m4is_ax3q2 .'/'. $m4is_s3dnu; $m4is_l9luvd = implode("\n", $pieces = ['GET', null, null, $m4is_dczkma, $m4is_e50tl]); $m4is_k_fdu = self::m4is_e4uzj($m4is_xrba, $m4is_l9luvd);  $url = sprintf('%s://%s.%s/%s', $m4is_bigvm, $m4is_ax3q2, $m4is_pjyva_, $m4is_s3dnu); $qs = http_build_query($pieces = ['AWSAccessKeyId' => $m4is_s70l6b, 'Expires' => $m4is_dczkma, 'Signature' => $m4is_k_fdu,]); return $url . '?' . $qs; } private static 
function m4is_ksnpk_(string $m4is_ax3q2) { $m4is_g8qm = memberium_app()->m4is_mmdrl('remote_files'); $m4is_cuqw = ''; $m4is_pjyva_ = ''; foreach($m4is_g8qm as $m4is_g4ulmz) { if ($m4is_g4ulmz['bucket'] == $m4is_ax3q2) { $m4is_cuqw = empty($m4is_g4ulmz['region']) ? '' : $m4is_g4ulmz['region']; $m4is_pjyva_ = empty($m4is_g4ulmz['host']) ? '' : $m4is_g4ulmz['host']; if ($m4is_pjyva_ == 's3.amazonaws.com' && empty($m4is_cuqw) ) { $m4is_cuqw = 'us-east-1'; } break; } } if (empty($m4is_cuqw) ) { if (substr($m4is_pjyva_, 0, 3) === 's3-') { $m4is_cuqw = substr($m4is_pjyva_, 3, strpos($m4is_pjyva_, '.', 3) - 3); } if (empty($m4is_cuqw)) { $m4is_cuqw = 'us-east-1'; } } return $m4is_cuqw; } private static 
function m4is_y2t_3($m4is_s70l6b, $m4is_xrba, $m4is_ax3q2, $m4is_i4zx_, $m4is_dczkma = 0, $m4is_cuqw = 'us-east-1', $m4is_sxzhc = [] ) { if (substr($m4is_i4zx_, 0, 1) !== '/') { $m4is_i4zx_ = '/' . $m4is_i4zx_; } if (empty($m4is_cuqw)) { $m4is_cuqw = self::m4is_ksnpk_($m4is_ax3q2); } $m4is_adhe = str_replace('%2F', '/', rawurlencode($m4is_i4zx_) ); $m4is_pucw0 = []; foreach ($m4is_sxzhc as $m4is_ap3_ => $m4is_rhfd) { $m4is_pucw0[strtolower($m4is_ap3_)] = $m4is_rhfd; } if (! array_key_exists('host', $m4is_pucw0) ) { $m4is_cuqw = empty($m4is_cuqw) ? '' : $m4is_cuqw; $m4is_pucw0['host'] = ($m4is_cuqw == 'us-east-1') ? "{$m4is_ax3q2}.s3.amazonaws.com" : "{$m4is_ax3q2}.s3-{$m4is_cuqw}.amazonaws.com"; } ksort($m4is_pucw0); $m4is_b4m8r = ''; foreach ($m4is_pucw0 as $m4is_ap3_ => $m4is_rhfd) { $m4is_b4m8r .= $m4is_ap3_ . ':' . trim($m4is_rhfd) . "\n"; } $m4is_q1q5 = implode(';', array_keys($m4is_pucw0) ); $m4is_hpgx6w = time(); $m4is_negofh = gmdate('Ymd', $m4is_hpgx6w); $m4is_qhduwb = $m4is_negofh . 'T000000Z'; $m4is_qhduwb = $m4is_negofh . 'T' . gmdate('His', $m4is_hpgx6w) . 'Z'; $m4is_npfb = 'AWS4-HMAC-SHA256'; $m4is_lgcv = "$m4is_negofh/$m4is_cuqw/s3/aws4_request"; $m4is_h5etlk = [ 'X-Amz-Algorithm' => $m4is_npfb, 'X-Amz-Credential' => $m4is_s70l6b . '/' . $m4is_lgcv, 'X-Amz-Date' => $m4is_qhduwb, 'X-Amz-SignedHeaders' => $m4is_q1q5 ]; if ($m4is_dczkma > 0) { $m4is_h5etlk['X-Amz-Expires'] = $m4is_dczkma; } ksort($m4is_h5etlk); $m4is_tau5 = []; foreach ($m4is_h5etlk as $m4is_ap3_ => $m4is_rhfd) { $m4is_tau5[] = rawurlencode($m4is_ap3_) . '=' . rawurlencode($m4is_rhfd); } $m4is_qx_g = implode('&', $m4is_tau5); $m4is_fwyz = "GET\n$m4is_adhe\n$m4is_qx_g\n$m4is_b4m8r\n$m4is_q1q5\nUNSIGNED-PAYLOAD"; $m4is_den5bz = "$m4is_npfb\n$m4is_qhduwb\n$m4is_lgcv\n" . hash('sha256', $m4is_fwyz, false); $m4is_au2hb = hash_hmac('sha256', 'aws4_request', hash_hmac('sha256', 's3', hash_hmac('sha256', $m4is_cuqw, hash_hmac('sha256', $m4is_negofh, 'AWS4' . $m4is_xrba, true), true), true), true); $m4is_k_fdu = hash_hmac('sha256', $m4is_den5bz, $m4is_au2hb); $m4is__mto = 'https://' . $m4is_pucw0['host'] . $m4is_adhe . '?' . $m4is_qx_g . '&X-Amz-Signature=' . $m4is_k_fdu; return $m4is__mto; } }
