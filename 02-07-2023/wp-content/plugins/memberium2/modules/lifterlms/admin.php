<?php
 class_exists('m4is_emz57o') || die(); final 
class m4is__ry9 { static 
function m4is_a6x52r() : self { static $m4is_jprj8 = false; return $m4is_jprj8 ? $m4is_jprj8 : $m4is_jprj8 = new self; } private 
function __construct() { $this->m4is_ap508(); } private 
function m4is_ap508() { add_action( 'admin_init', [$this, 'm4is_myqov'] ); }  private 
function m4is_r39r0l() { return [ 'course', 'lesson', 'llms_quiz', ]; }  private 
function m4is_lta1i() { return [ '_is4wp_learndash_achievement', '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_goals', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ]; }  
function m4is_myqov() { $m4is_dmesa = m4is_zvyj::m4is_a6x52r()->m4is_w5zj(); $m4is_t7yf8a = $this->m4is_r39r0l(); if ( in_array( $m4is_dmesa, $m4is_t7yf8a ) ) { add_meta_box( 'is4wp-liferlms-actions', 'LifterLMS Memberium Integration', [$this, 'm4is_nwq9t'], $m4is_dmesa, 'side' ); } add_action( 'save_post', [$this, 'm4is__fupo'], 10, 3 ); } 
function m4is_nwq9t( $m4is_pgsbl, $m4is_xdxm2 ) { if ( ! is_a( $m4is_pgsbl, 'WP_Post' ) ) { return; } $m4is_dhubln = $this->m4is_r39r0l(); if ( ! in_array( $m4is_pgsbl->post_type, $m4is_dhubln ) ) { return; } $m4is__xysg = $m4is_pgsbl->ID; $m4is_dmesa = $m4is_pgsbl->post_type; $m4is_es7u = get_post_meta( $m4is__xysg ); $m4is_ti8od = []; $m4is_ekvmr = $this->m4is_lta1i(); foreach($m4is_ekvmr as $m4is_ap3_) { $m4is_ti8od[$m4is_ap3_] = isset( $m4is_es7u[$m4is_ap3_][0] ) ? $m4is_es7u[$m4is_ap3_][0] : ''; } wp_nonce_field( __FILE__, "memberium_lifterlms_actions_nonce_{$m4is__xysg}"); $m4is_u8fsyt = empty( $m4is_ti8od['_is4wp_learndash_goals'] ) ? '' : $m4is_ti8od['_is4wp_learndash_goals']; $m4is_iqdrav = empty( $m4is_ti8od['_is4wp_learndash_tags'] ) ? '' : $m4is_ti8od['_is4wp_learndash_tags']; $m4is_o7zp = empty( $m4is_ti8od['_is4wp_learndash_autoenroll'] ) ? '' : $m4is_ti8od['_is4wp_learndash_autoenroll']; $m4is_zt68qa = $this->m4is_ox6378( (int) $m4is_ti8od['_is4wp_learndash_actions'] ); if ( in_array( $m4is_dmesa, [ 'course' ] ) ) { echo '<label for="_is4wp_learndash_autoenroll">' . _e("AutoEnroll Tags", 'memberium') . ':</label> '; echo '<input value= "', $m4is_o7zp, '" name="_is4wp_learndash_autoenroll" class="multitaglist" style="width:100%; max-width:100%"><br /><br />'; } echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_goals">' . _e("Achieve this Goal", 'memberium') . ':</label> '; echo '<input value="', $m4is_u8fsyt, '" name="_is4wp_learndash_goals" style="width:100%; max-width:100%"><br /><br />'; echo '<label for="_is4wp_learndash_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input value="', $m4is_iqdrav, '" name="_is4wp_learndash_tags" class="multitaglist" style="width:100%; max-width:100%"><br /><br />'; if ( ! empty( $m4is_zt68qa ) ) { echo '<label for="_is4wp_learndash_actions">' . _e("Run this Actionset", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo $m4is_zt68qa; echo '</select>'; } } private 
function m4is_ox6378( int $m4is_av7rh ) : string { $m4is_b8ve = m4is_f84s3h::m4is_wl42q6(); $m4is_wmzqp = ''; if ( ! empty( $m4is_b8ve) ) { $m4is_wmzqp = '<option value="0">(No Actions)</option>';; foreach ( $m4is_b8ve as $m4is_cga2c => $m4is_bnlctw ) { $m4is_bp1zf3 = $m4is_av7rh == $m4is_cga2c ? ' selected="selected" ' : ''; $m4is_wmzqp .= '<option value="' . $m4is_cga2c . '" ' . $m4is_bp1zf3 . '>' . $m4is_bnlctw . '</option>'; } } return $m4is_wmzqp; } 
function m4is__fupo( int $m4is__xysg, $m4is_pgsbl, $m4is_g68c ) {  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; }  $m4is_g_wa = 'memberium_lifterlms_actions_nonce_' . $m4is__xysg; if (empty($_POST[$m4is_g_wa]) || ! wp_verify_nonce($_POST[$m4is_g_wa], __FILE__) ) { return; } if (! current_user_can('edit_posts', $m4is__xysg) ) { return; } $m4is_dhrs = $this->m4is_lta1i(); foreach($m4is_dhrs as $m4is_ap3_) { if (isset($_POST[$m4is_ap3_])) { if (empty($_POST[$m4is_ap3_])) { delete_post_meta($m4is__xysg, $m4is_ap3_); } else { update_post_meta($m4is__xysg, $m4is_ap3_, $_POST[$m4is_ap3_]); } } } } }
