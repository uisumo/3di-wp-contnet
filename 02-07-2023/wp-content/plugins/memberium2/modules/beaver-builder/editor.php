<?php
/**
* Copyright (c) 2018-2022 David J Bullock
* Web Power and Light
*/

 class_exists('m4is_emz57o') || die();  final 
class m4is_a96e { protected $ext_ver = '1.0.5'; public $slug = 'beaver_builder'; public $to_json = [];  public $omitted_blocks = [];  public $ns = '';  public $prefix = '';  public $I18n = [];  public $access_class;  static 
function m4is_a6x52r() : self { static $m4is_jprj8; return isset( $m4is_jprj8 ) ? $m4is_jprj8 : $m4is_jprj8 = new self; } private 
function __construct() { $this->access_class = m4is_l0uwos::m4is_a6x52r(); $this->prefix = $this->access_class::PREFIX; $this->ns = $this->access_class::NS; $this->m4is_gopgz(); } 
function m4is_gopgz() {  add_filter( "{$this->ns}/{$this->slug}/control/config", [$this, 'm4is_c07imf'], 10, 1 ); $m4is_bkujny = $this->access_class->m4is_lvmd(); $this->I18n = $m4is_bkujny->m4is_vvsj( false, $this->slug ); $this->to_json['WPAL_BLOCKS_PREFIX'] = $this->prefix; $this->to_json['WPAL_BLOCKS_KEYS_REMOVED_TEXT'] = $this->I18n['keys_removed_text']; $this->to_json['controls'] = $m4is_bkujny->m4is_ubq5l( $this->slug ); $this->to_json['tags'] = $m4is_bkujny->m4is_ee0h();  $this->omitted_blocks = apply_filters( "{$this->ns}/{$this->slug}/settings/omitted_blocks", ['col'] ); add_filter( 'fl_builder_register_settings_form', [$this, 'm4is_wgvx'], PHP_INT_MAX, 2 );  add_filter( 'fl_builder_custom_fields', [$this, 'm4is_y8wf'] );  add_action( 'wp_enqueue_scripts', [$this, 'm4is_zqb0xf'], PHP_INT_MAX );  }  
function m4is_c07imf( array $m4is_iikfu ) : array { foreach ( $m4is_iikfu as $m4is__wsdob => $m4is_p4_his ) { if ( $m4is_p4_his['type'] === 'checkbox' ) { $m4is_iikfu[$m4is__wsdob]['type'] = 'wpal_blocks_toggle'; $m4is_iikfu[$m4is__wsdob]['description'] = ''; } elseif ( $m4is_p4_his['type'] === 'SELECT2' ) { $m4is_iikfu[$m4is__wsdob]['type'] = 'text'; $m4is_iikfu[$m4is__wsdob]['class'] = 'bb-wpal-blocks-select2'; } } return $m4is_iikfu; }  
function m4is_y8wf( array $m4is_kbu63_ ) { $m4is_kbu63_['wpal_blocks_toggle'] = trailingslashit( __DIR__ ) . 'toggle.php'; return $m4is_kbu63_; }  
function m4is_wgvx( array $m4is_o3sx_6, string $m4is_t_qmg ) : array { $m4is_e_xdm = ($m4is_t_qmg === 'row' || $m4is_t_qmg === 'col');  if ($m4is_e_xdm) { $m4is_o3sx_6['tabs'] = isset( $m4is_o3sx_6['tabs'] ) ? $m4is_o3sx_6['tabs'] : []; $m4is_o3sx_6['tabs']['advanced'] = isset( $m4is_o3sx_6['tabs']['advanced'] ) ? $m4is_o3sx_6['tabs']['advanced'] : [ 'title' => __( 'Advanced', $this->ns ) ]; $m4is_o3sx_6['tabs']['advanced']['sections'] = isset( $m4is_o3sx_6['tabs']['advanced']['sections'] ) ? $m4is_o3sx_6['tabs']['advanced']['sections'] : []; $m4is_o3sx_6['tabs']['advanced']['sections'] = $this->m4is_gi2ms5( $m4is_o3sx_6['tabs']['advanced']['sections'], $m4is_t_qmg );  } else {  if ($m4is_t_qmg === 'module_advanced') { $m4is_o3sx_6['sections'] = isset( $m4is_o3sx_6['sections'] ) ? $m4is_o3sx_6['sections'] : []; $m4is_o3sx_6['sections'] = $this->m4is_gi2ms5( $m4is_o3sx_6['sections'], $m4is_t_qmg ); } } return $m4is_o3sx_6; }  
function m4is_gi2ms5( array $m4is_h6s53d, string $m4is_t_qmg) : array { $m4is_qz_m9 = []; $m4is_ap3_ = 'visibility'; if ( array_key_exists( $m4is_ap3_, $m4is_h6s53d ) ) { foreach ( $m4is_h6s53d as $m4is_jv7n => $m4is_ifbz ) { $m4is_qz_m9[$m4is_jv7n] = $m4is_ifbz; if ( $m4is_jv7n === $m4is_ap3_ ) { $m4is_kbu63_ = $this->m4is_qtem( $m4is_t_qmg ); if ( $m4is_kbu63_ ){ $m4is_qz_m9['wpal-blocks'] = $m4is_kbu63_; } } } } else { $m4is_qz_m9 = $m4is_h6s53d; $m4is_kbu63_ = $this->m4is_qtem( $m4is_t_qmg ); if ( $m4is_kbu63_ ) { $m4is_qz_m9['wpal-blocks'] = $m4is_kbu63_; } } return $m4is_qz_m9; }  
function m4is_qtem( string $m4is_t_qmg ) { $m4is_jijt = in_array( $m4is_t_qmg, $this->omitted_blocks ) ? false : $this->to_json['controls'];  if ( ! $m4is_jijt || empty( $m4is_jijt ) ){ return; } $m4is_fnc39 = [ 'title' => $this->I18n['settings_title'], 'fields' => [] ]; foreach ( $m4is_jijt as $m4is__wsdob => $m4is_p4_his ) { $m4is_j1vz = isset( $m4is_p4_his['type'] ) ? $m4is_p4_his['type'] : false; $m4is_ho0w2 = isset( $m4is_p4_his['name'] ) ? $m4is_p4_his['name'] : false; if ( $m4is_j1vz && $m4is_ho0w2 ) { $m4is_f_nj = [ 'type' => $m4is_j1vz, 'label' => $m4is_p4_his['label'] ]; $conditional_settings = [ 'class', 'default', 'description', 'help', 'multi-select', 'options', 'placeholder', 'rows', ]; foreach ( $conditional_settings as $m4is_jv7n => $m4is_qs_o1n ) { if ( isset( $m4is_p4_his[$m4is_qs_o1n] ) ) { $m4is_f_nj[$m4is_qs_o1n] = $m4is_p4_his[$m4is_qs_o1n]; } } $m4is_f_nj = apply_filters("{$this->ns}/{$this->slug}/editor/control/args", $m4is_f_nj, $m4is_ho0w2, $m4is_j1vz, $m4is_t_qmg ); $m4is_fnc39['fields'][$m4is_ho0w2] = $m4is_f_nj; } } return $m4is_fnc39; }  
function m4is_zqb0xf() { if ( ! FLBuilderModel::is_builder_active() ) { return; } $m4is_hdsl31 = 'wpal-blocks-bb'; $m4is__mto = plugin_dir_url( __FILE__ ); $m4is_pfza_ = ['jquery', "{$m4is_hdsl31}_s2js"]; $m4is_s9jifq = $m4is_hdsl31 . '-editor-js'; $m4is_r39y = $m4is_hdsl31 . '-editor-css'; $this->access_class->m4is_lvmd()->m4is_x8mgkb( false, $m4is_hdsl31 ); wp_enqueue_style( "{$m4is_hdsl31}_s2css"); wp_enqueue_script( "{$m4is_hdsl31}_s2js"); wp_register_script( $m4is_s9jifq, "{$m4is__mto}editor.js", $m4is_pfza_, $this->ext_ver, true ); wp_register_style( $m4is_r39y, "{$m4is__mto}editor.css", false, $this->ext_ver, 'all' ); wp_enqueue_script( $m4is_s9jifq ); wp_enqueue_style( $m4is_r39y ); wp_localize_script( $m4is_s9jifq, 'wpalbb_params', $this->to_json ); } }
