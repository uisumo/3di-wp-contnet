<?php
 class_exists('m4is_emz57o') || die(); final 
class m4is_ghrz0o { static 
function m4is_a6x52r() : self { static $m4is_jprj8 = false; return $m4is_jprj8 ? $m4is_jprj8 : $m4is_jprj8 = new self; } private 
function __construct() { $this->m4is_ap508(); } private 
function m4is_ap508() { add_action( 'admin_init', [$this, 'm4is_myqov'] ); } 
function m4is_myqov() { $m4is_dmesa = m4is_zvyj::m4is_a6x52r()->m4is_w5zj(); if ( in_array( $m4is_dmesa, $this->m4is_r39r0l() ) ) { add_meta_box( 'is4wp-learnpress-actions', 'LearnPress Memberium Integration', [$this, 'm4is_jvjz0n'], $m4is_dmesa, 'side' ); } add_action( 'save_post', [$this, 'm4is_juw4'], 10, 3 ); } 
function m4is_juw4( int $m4is__xysg, $m4is_pgsbl, $m4is_g68c ) {  if ( defined( 'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) { return; }  $m4is_dhrs = $this->m4is_lta1i(); $m4is_ap3_ = "memberium_learnpress_actions_nonce_{$m4is__xysg}";  if ( empty( $_POST[ $m4is_ap3_ ] ) || ! wp_verify_nonce( $_POST[ $m4is_ap3_], MEMBERIUM_SKU ) ) { return; } if ( ! current_user_can( 'edit_posts', $m4is__xysg ) ) { return; } foreach( $m4is_dhrs as $m4is_ap3_ ) { if ( isset( $_POST[$m4is_ap3_] ) ) { if ( empty( $_POST[$m4is_ap3_] ) ) { delete_post_meta( $m4is__xysg, $m4is_ap3_ ); } else { update_post_meta( $m4is__xysg, $m4is_ap3_, $_POST[$m4is_ap3_] ); } } } } 
function m4is_jvjz0n( $m4is_pgsbl, $m4is_xdxm2 ) { if ( ! is_a( $m4is_pgsbl, 'WP_Post' ) ) { return; }  $m4is_ti8od = []; $m4is_ekvmr = []; $m4is__xysg = $m4is_pgsbl->ID; $m4is_dmesa = $m4is_pgsbl->post_type; $m4is_es7u = get_post_meta( $m4is__xysg ); $m4is_kbu63_ = m4is_f84s3h::m4is_cm6nr( 'contact', true ); $m4is_dhubln = $this->m4is_r39r0l(); $m4is_xzni = $this->m4is_lta1i(); foreach( $m4is_xzni as $m4is_iwhiq ) { $m4is_ti8od[ $m4is_iwhiq ] = isset( $m4is_es7u[ $m4is_iwhiq ][0] ) ? $m4is_es7u[ $m4is_iwhiq ][0] : ''; }  $m4is_ekvmr = [ '' => '(None)' ]; foreach( $m4is_kbu63_ as $m4is_tenvhx ) { $m4is_ekvmr[ $m4is_tenvhx ] = $m4is_tenvhx; } if ( in_array( $m4is_dmesa, $m4is_dhubln ) ) { wp_nonce_field( MEMBERIUM_SKU, "memberium_learnpress_actions_nonce_{$m4is__xysg}" ); if ( in_array( $post->post_type, ['lp_course'] ) ) { $m4is_o7zp = empty( $m4is_ti8od['_is4wp_learndash_autoenroll'] ) ? '' : $m4is_ti8od['_is4wp_learndash_autoenroll']; echo '<label for="_is4wp_learndash_autoenroll">' . _e( "AutoEnroll Tags", 'memberium' ) . ':</label> '; echo '<input value="', $m4is_o7zp, '" name="_is4wp_learndash_autoenroll" class="multitaglist" style="width:100%; max-width:100%"><br /><br />'; } $m4is_u8fsyt = empty( $m4is_ti8od['_is4wp_learndash_goals'] ) ? '' : $m4is_ti8od['_is4wp_learndash_goals']; $m4is_iqdrav = empty( $m4is_ti8od['_is4wp_learndash_tags'] ) ? '' : $m4is_ti8od['_is4wp_learndash_tags']; $m4is_zt68qa = $this->m4is_ox6378( (int) $m4is_ti8od['_is4wp_learndash_actions'] ); echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_goals">' . _e( "Achieve these Goals", 'memberium' ) . ':</label> '; echo '<input value="', $m4is_u8fsyt, '" name="_is4wp_learndash_goals" style="width:100%; max-width:100%"><br /><br />'; echo '<label for="_is4wp_learndash_tags">' . _e( "Apply these Tags", 'memberium' ) . ':</label> '; echo '<input value="', $m4is_iqdrav, '" name="_is4wp_learndash_tags" class="multitaglist" style="width:100%; max-width:100%"><br /><br />'; if ( ! empty( $m4is_zt68qa ) ) { echo '<label for="_is4wp_learndash_actions">' . _e( "Run this Actionset", 'memberium' ) . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo $m4is_zt68qa; echo '</select>'; } echo '<br /><br />'; if ( in_array( $m4is_dmesa, ['lp_quiz'] ) ) { $m4is_w5ky4q = [ 'class' => 'actionset-selected', 'style' => 'width:250px;', ]; $m4is_a2b3 = empty( $m4is_ti8od['_is4wp_learndash_fail_goals'] ) ? '' : $m4is_ti8od['_is4wp_learndash_fail_goals']; $m4is_z9n3 = empty( $m4is_ti8od['_is4wp_learndash_fail_tags'] ) ? '' : $m4is_ti8od['_is4wp_learndash_fail_tags']; $m4is_vjnlh8 = $this->m4is_ox6378( (int) $m4is_ti8od['_is4wp_learndash_fail_actions'] ); $m4is_qj8nt = empty( $m4is_ti8od['_is4wp_lms_start_date'] ) ? '' : $m4is_ti8od['_is4wp_lms_start_date']; $m4is_g45d0_ = empty( $m4is_ti8od['_is4wp_lms_complete_percent'] ) ? '' : $m4is_ti8od['_is4wp_lms_complete_percent']; echo '<p>If the student <strong style="color:red;">fails</strong> this test, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_fail_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input value="', $m4is_a2b3, '" name="_is4wp_learndash_fail_goals" style="width:100%; max-width:100%"><br /><br />'; echo '<label for="_is4wp_learndash_fail_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input value="', $m4is_z9n3, '" name="_is4wp_learndash_fail_tags" class="multitaglist" style="width:100%; max-width:100%"><br /><br />'; echo '<label for="_is4wp_learndash_fail_actions">' . _e("Run this Actionset", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="is4wp_learndash_fail_actions" style="width:100%; max-width:100%">'; echo $m4is_vjnlh8; echo '</select>'; echo '<label for="_is4wp_lms_start_date">' . _e("Start Date Field", 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_start_date', $m4is_ekvmr, $m4is_qj8nt, $m4is_w5ky4q); echo '<br>'; echo '<label for="_is4wp_lms_complete_percent">' . _e("Percent Complete", 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_complete_percent', $m4is_ekvmr, $m4is_g45d0_, $m4is_w5ky4q); echo '<br>'; } } } private 
function m4is_ox6378( $m4is_av7rh ) { $m4is_b8ve = m4is_f84s3h::m4is_wl42q6(); $m4is_wmzqp = ''; if (! empty( $m4is_b8ve ) ) { $m4is_wmzqp = '<option value="0">(No Actions)</option>'; foreach ( $m4is_b8ve as $m4is_cga2c => $m4is_bnlctw ) { $m4is_bp1zf3 = $m4is_av7rh == $m4is_cga2c ? ' selected="selected" ' : ''; $m4is_wmzqp .= "<option value='{$m4is_cga2c}' {$m4is_bp1zf3}>{$m4is_bnlctw}</option>"; } } return $m4is_wmzqp; } private 
function m4is_lta1i() { return [ '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_fail_actions', '_is4wp_learndash_fail_goals', '_is4wp_learndash_fail_tags', '_is4wp_learndash_goals', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_start_date', ]; } private 
function m4is_r39r0l() { return [ 'lp_course', 'lp_lesson', 'lp_quiz' ]; } }
