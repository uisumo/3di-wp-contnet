<?php
 class_exists('m4is_emz57o') || die(); final 
class m4is_ajxw { private 
function m4is_ap508() { add_action('admin_init', [$this, 'm4is_myqov']); } 
function m4is_myqov() { $m4is_dmesa = m4is_zvyj::m4is_a6x52r()->m4is_w5zj(); if (in_array($m4is_dmesa, $this->m4is_r39r0l() ) ) { add_meta_box('is4wp-sensei-actions', 'Sensei Memberium Integration', [$this, 'm4is_t6hsvx'], $m4is_dmesa, 'side'); } add_action('save_post', [$this, 'm4is_csbv'], 10, 3); } 
function m4is_t6hsvx() { global $post; $m4is_dhubln = $this->m4is_r39r0l(); if (in_array($post->post_type, $m4is_dhubln) ) { wp_nonce_field(MEMBERIUM_SKU, "memberium_sensei_actions_nonce_{$post->ID}"); $m4is_es7u = get_post_meta($post->ID); $m4is_ti8od = []; $m4is_ekvmr = $this->m4is_lta1i(); $m4is_b8ve = m4is_f84s3h::m4is_wl42q6(); foreach($m4is_ekvmr as $m4is_ap3_) { $m4is_ti8od[$m4is_ap3_] = isset($m4is_es7u[$m4is_ap3_][0]) ? $m4is_es7u[$m4is_ap3_][0] : ''; } if ($post->post_type == 'course') { echo '<label for="_is4wp_learndash_autoenroll">' . _e("AutoEnroll Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_autoenroll" class="multitaglist" style="width:100%; max-width:100%" value="', ($m4is_ti8od['_is4wp_learndash_autoenroll'] > '' ? $m4is_ti8od['_is4wp_learndash_autoenroll'] : ''), '"><br /><br />'; } echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_tags" class="multitaglist" style="width:100%; max-width:100%" value="', ($m4is_ti8od['_is4wp_learndash_tags'] > '' ? $m4is_ti8od['_is4wp_learndash_tags'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_actions">' . _e("Run this Actionsets", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; foreach ($m4is_b8ve as $m4is_cga2c=>$m4is_bnlctw) { echo '<option value="', $m4is_cga2c, '" ', ($m4is_ti8od['_is4wp_learndash_actions'] == $m4is_cga2c ? ' selected="selected" ' : '') , '>', $m4is_bnlctw, '</option>'; } echo '</select>'; echo '<label for="_is4wp_learndash_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_goals" style="width:100%; max-width:100%" value="', ($m4is_ti8od['_is4wp_learndash_goals'] > '' ? $m4is_ti8od['_is4wp_learndash_goals'] : ''), '"><br /><br />'; echo '<hr />'; $m4is_ekvmr = ['' => '(None)']; $m4is_kbu63_ = m4is_f84s3h::m4is_cm6nr('contact', true); foreach($m4is_kbu63_ as $m4is_tenvhx) { $m4is_ekvmr[$m4is_tenvhx] = $m4is_tenvhx; } $m4is_w5ky4q = [ 'class' => 'actionset-selected', 'style' => 'width:250px;', ]; if ($post->post_type == 'course') { $m4is_rhfd = isset($m4is_ti8od['_is4wp_lms_start_date']) ? $m4is_ti8od['_is4wp_lms_start_date'] : ''; echo '<label for="_is4wp_lms_start_date">' . _e('Start Date Field', 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_start_date', $m4is_ekvmr, $m4is_rhfd, $m4is_w5ky4q); echo '<br>'; $m4is_rhfd = isset($m4is_ti8od['_is4wp_lms_complete_percent']) ? $m4is_ti8od['_is4wp_lms_complete_percent'] : ''; echo '<label for="_is4wp_lms_complete_percent">' . _e("Percent Complete", 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_complete_percent', $m4is_ekvmr, $m4is_rhfd, $m4is_w5ky4q); echo '<br>'; } if ($post->post_type == 'lesson') { $m4is_rhfd = isset($m4is_ti8od['_is4wp_lms_grade']) ? $m4is_ti8od['_is4wp_lms_grade'] : ''; echo '<label for="_is4wp_lms_grade">' . _e("Grade", 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_grade', $m4is_ekvmr, $m4is_rhfd, $m4is_w5ky4q); echo '<br>'; $m4is_rhfd = isset($m4is_ti8od['_is4wp_lms_completed']) ? $m4is_ti8od['_is4wp_lms_completed'] : ''; echo '<label for="_is4wp_lms_completed">' . _e("Quiz Passed", 'memberium') . ':</label><br />'; m4is__95_::m4is_u7px('_is4wp_lms_completed', $m4is_ekvmr, $m4is_rhfd, $m4is_w5ky4q); echo '<br>'; } echo '<hr />'; } } 
function m4is_csbv($m4is__xysg, $m4is_pgsbl, $m4is_g68c) {  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; }  if (empty($_POST["memberium_sensei_actions_nonce_{$m4is__xysg}"]) || ! wp_verify_nonce($_POST["memberium_sensei_actions_nonce_{$m4is__xysg}"], MEMBERIUM_SKU) ) { return; } if (! current_user_can('edit_posts', $m4is__xysg) ) { return; } $m4is_dhrs = $this->m4is_lta1i(); foreach($m4is_dhrs as $m4is_ap3_) { if (isset($_POST[$m4is_ap3_])) { if (empty($_POST[$m4is_ap3_])) { delete_post_meta($m4is__xysg, $m4is_ap3_); } else { update_post_meta($m4is__xysg, $m4is_ap3_, $_POST[$m4is_ap3_]); } } } } private 
function m4is_lta1i() { return [ '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_goals', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ]; } private 
function m4is_r39r0l() { return [ 'course', 'lesson', ]; } private 
function __construct() { $this->m4is_ap508(); } static 
function m4is_a6x52r() : self { static $m4is_jprj8 = false; return $m4is_jprj8 ? $m4is_jprj8 : $m4is_jprj8 = new self; } }
