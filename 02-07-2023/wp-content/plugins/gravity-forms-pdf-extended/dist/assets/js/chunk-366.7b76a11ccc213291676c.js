"use strict";(self.webpackChunkgravity_pdf=self.webpackChunkgravity_pdf||[]).push([[366],{38:(e,t,r)=>{r.d(t,{Z:()=>p});r(6992),r(3948);var s=r(5311),a=r.n(s),n=r(7294),i=r(5697),l=r.n(i);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/**
 * Renders a message or error, with the option to self-clear itself
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2023, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */class c extends n.Component{constructor(){super(...arguments),o(this,"state",{visible:!0}),o(this,"shouldSetTimer",(()=>{this.props.dismissable&&this.setTimer()})),o(this,"setTimer",(()=>{this._timer=null!==this._timer?clearTimeout(this._timer):null,this._timer=setTimeout((()=>{a()(this._message).removeClass("inline").slideUp(400,(()=>{a()(this._message).removeAttr("style"),this.setState({visible:!1}),this._timer=null,this.props.dismissableCallback&&this.props.dismissableCallback()}))}),this.props.delay)})),o(this,"resetState",(()=>{this.setState({visible:!0}),this.shouldSetTimer()}))}componentDidMount(){this.shouldSetTimer()}componentDidUpdate(e,t){t.visible||this.resetState()}componentWillUnmount(){this.props.dismissable&&clearTimeout(this._timer)}render(){var{text:e,error:t}=this.props,r="notice inline";return t&&(r+=" error"),this.state.visible?n.createElement("div",{ref:e=>this._message=e,className:r},n.createElement("p",null,e)):n.createElement("div",null)}}o(c,"defaultProps",{delay:4e3,dismissable:!1}),o(c,"propTypes",{text:l().string.isRequired,error:l().bool,delay:l().number,dismissable:l().bool,dismissableCallback:l().func});const p=c},6152:(e,t,r)=>{r.d(t,{ZP:()=>u});r(6992),r(3948),r(7658);var s=r(7294),a=r(5697),n=r.n(a),i=r(6706),l=r(6550),o=r(4738);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/**
 * Renders the button used to trigger the current active PDF template
 * On click it triggers our Redux action.
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2023, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */class p extends s.Component{constructor(){super(...arguments),c(this,"handleSelectTemplate",(e=>{e.preventDefault(),e.stopPropagation(),this.props.history.push(""),this.props.onTemplateSelect(this.props.template.id)}))}render(){return s.createElement("a",{onClick:this.handleSelectTemplate,href:"#",tabIndex:"150",className:"button activate","aria-label":this.props.buttonText+" "+GFPDF.template},this.props.buttonText)}}c(p,"propTypes",{history:n().object,onTemplateSelect:n().func,template:n().object,buttonText:n().string});const u=(0,l.EN)((0,i.$j)(null,(e=>({onTemplateSelect:t=>e((0,o.Un)(t))})))(p))},5439:(e,t,r)=>{r.d(t,{Z:()=>u});var s,a,n,i=r(7294),l=r(5697),o=r.n(l),c=r(2896);
/**
 * Renders our Advanced Template Selector container which is shared amongst the components
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2023, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */
class p extends i.Component{constructor(e){super(e),this.handleFocus=this.handleFocus.bind(this)}componentDidMount(){document.addEventListener("focus",this.handleFocus,!0),document.activeElement&&"wp-filter-search"!==document.activeElement.className&&this.container.focus()}componentWillUnmount(){document.removeEventListener("focus",this.handleFocus,!0)}handleFocus(e){this.container.contains(e.target)||(e.stopPropagation(),this.container.focus())}render(){var e=this.props.header,t=this.props.footer,r=this.props.children,s=this.props.closeRoute;return i.createElement("div",{ref:e=>this.container=e,tabIndex:"140"},i.createElement("div",{className:"backdrop theme-backdrop"}),i.createElement("div",{className:"container theme-wrap"},i.createElement("div",{className:"theme-header"},e,i.createElement(c.Z,{closeRoute:s})),i.createElement("div",{id:"gfpdf-template-container",className:"theme-about wp-clearfix theme-browser rendered"},r),t))}}s=p,a="propTypes",n={header:o().oneOfType([o().string,o().element]),footer:o().oneOfType([o().string,o().element]),children:o().node.isRequired,closeRoute:o().string},a in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n;const u=p},5218:(e,t,r)=>{r.d(t,{$G:()=>m,PP:()=>i,S3:()=>c,VG:()=>l,ZA:()=>p,dk:()=>u});var s=r(7294),a=r(5697),n=r.n(a),i=e=>{var{isCurrentTemplate:t,label:r}=e;return t?s.createElement("span",{className:"current-label"},r):s.createElement("span",null)};i.propTypes={isCurrentTemplate:n().bool,label:n().string};var l=e=>{var{name:t,version:r,versionLabel:a}=e;return s.createElement("h2",{className:"theme-name"},t,s.createElement(o,{version:r,label:a}))};l.propTypes={name:n().string,version:n().string,versionLabel:n().string};var o=e=>{var{label:t,version:r}=e;return r?s.createElement("span",{className:"theme-version"},t,": ",r):s.createElement("span",null)};o.propTypes={label:n().string,version:n().string};var c=e=>{var{author:t,uri:r}=e;return r?s.createElement("p",{className:"theme-author"},s.createElement("a",{href:r},t)):s.createElement("p",{className:"theme-author"},t)};c.propTypes={author:n().string,uri:n().string};var p=e=>{var{label:t,group:r}=e;return s.createElement("p",{className:"theme-author"},s.createElement("strong",null,t,": ",r))};p.propTypes={label:n().string,group:n().string};var u=e=>{var{desc:t}=e;return s.createElement("p",{className:"theme-description"},t)};u.propTypes={desc:n().string};var m=e=>{var{label:t,tags:r}=e;return r?s.createElement("p",{className:"theme-tags"},s.createElement("span",null,t,":")," ",r):s.createElement("span",null)};m.propTypes={label:n().string,tags:n().string}},3223:(e,t,r)=>{r.d(t,{ZP:()=>o});r(4916),r(4765),r(5306),r(4603),r(8450),r(9714),r(1817),r(7601),r(2707),r(7658);var s=r(573);r(1058);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/**
 * Uses the Redux Reselect library to sort, filter and search our templates.
 * It also checks if the PDF templates are compatible with the current version of Gravity PDF
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2023, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */var l=e=>e.map((e=>{var t=e.required_pdf_version;return((e,t,r)=>{var s,a,n=0,i={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},l=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},o=function(e){return e?isNaN(e)?i[e]||-7:parseInt(e,10):0};for(e=l(e),t=l(t),a=Math.max(e.length,t.length),s=0;s<a;s++)if(e[s]!==t[s]){if(e[s]=o(e[s]),t[s]=o(t[s]),e[s]<t[s]){n=-1;break}if(e[s]>t[s]){n=1;break}}if(!r)return n;switch(r){case">":case"gt":return n>0;case">=":case"ge":return n>=0;case"<=":case"le":return n<=0;case"===":case"=":case"eq":return 0===n;case"<>":case"!==":case"ne":return 0!==n;case"":case"<":case"lt":return n<0;default:return null}})(t,GFPDF.currentVersion,">")?n(n({},e),{},{compatible:!1,error:GFPDF.requiresGravityPdfVersion.replace(/%s/g,t),long_error:GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g,t)}):n(n({},e),{},{compatible:!0})}));const o=(0,s.P1)([e=>e.template.list,e=>e.template.search,e=>e.template.activeTemplate],((e,t,r)=>(e=l(e),t&&(e=((e,t)=>{e=(e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")).replace(/ /g,")(?=.*");var r=new RegExp("^(?=.*"+e+").+","i");return t.filter((e=>{var t=e.template.replace(/(<([^>]+)>)/gi,""),s=e.description.replace(/(<([^>]+)>)/gi,""),a=e.author.replace(/(<([^>]+)>)/gi,""),n=e.group.replace(/(<([^>]+)>)/gi,"");return r.test([t,e.id,n,s,a].toString())}))})(t,e)),((e,t)=>e.sort(((e,r)=>!0===e.new&&!0===e.new?0:!0===e.new?1:!0===r.new||t===e.id?-1:t===r.id?1:e.group<r.group?-1:e.group>r.group?1:e.template<r.template?-1:e.template>r.template?1:0)))(e,r))))}}]);