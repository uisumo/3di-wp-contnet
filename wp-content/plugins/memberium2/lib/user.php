<?php
/**
 * Copyright (c) 2018-2020 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 if (! defined('ABSPATH') ) { die(); } final class wplsbzgvp { const USER_FIELD = 'memberium::field::'; const SESSION_KEY = 'wplmu94w'; static private $users = array(); private $session = array(); private $dirty = false; private $contact_id = 0; private $user_id = 0; private $defer_save = false; private function __construct($vwpllzly5b = 0, $vwplah9ysu = false) { $this->user_id = $vwpllzly5b; if ($vwplah9ysu) { $this->wplyte2(); } $this->session = $this->wplrpeocz(); } function __destruct() { if ($this->dirty) { $this->wplal2ae(); } unset(self::$users[$this->user_id]); } function wpli1bt6h($vwpljypm = true) { $this->defer_save = (bool) $vwpljypm; if (! $vwpljypm) { if ($this->dirty) { $this->wplal2ae(); } } } function wplal2ae($vwplz4g7n = array() ) { update_user_meta($this->user_id, self::SESSION_KEY, $vwplz4g7n); $this->dirty = false; } function wplrpeocz() { $vwplz4g7n = get_user_meta($this->user_id, self::SESSION_KEY, true); if (! empty($vwplz4g7n) ) { $this->session = $vwplz4g7n; } else { $this->session = $this->wplyte2(); } return $this->session; } function wplomz758() { $this->session = array(); delete_user_meta($this->user_id, self::SESSION_KEY); } function wplyte2() { $session = memberium_app()->wplyte2($this->user_id); $this->wplal2ae($session); return $session; }    function wpldz3xe($vwply17edn = '', $vwplph268z = '') { $vwply17edn = strtolower(trim($vwply17edn) ); $this->session['memb_db_fields'][$vwply17edn] = $vwplph268z; if (! $this->defer_save) { $this->wplal2ae(); } return $vwplph268z; } function wplktncx($vwply17edn = '', $vwplmkypa = '') { $vwply17edn = strtolower(trim($vwply17edn) ); return isset($this->session['memb_db_fields'][$vwply17edn]) ? $this->session['memb_db_fields'][$vwply17edn] : $vwplmkypa; }    function wplz4t52($vwplyy0ci2 = '', $vwply17edn = '', $vwplmkypa = '') { if (empty ($vwplyy0ci2) ) { return $this->session; } if (empty ($vwply17edn) ) { return $this->session[$vwplyy0ci2]; } $vwplph268z = isset($this->session[$vwplyy0ci2][$vwply17edn]) ? $this->session[$vwplyy0ci2][$vwply17edn] : $vwplmkypa; return $vwplph268z; } function wplcprg($vwplyy0ci2 = '', $vwply17edn = '', $vwplph268z = '') { if (empty ($vwplyy0ci2) || empty ($vwply17edn) ) { return $this->session[$vwplyy0ci2]; } $vwplph268z = isset($this->session[$vwplyy0ci2][$vwply17edn]) ? $this->session[$vwplyy0ci2][$vwply17edn] : $vwplmkypa; $this->dirty = true; if (! $this->defer_save) { $this->wplal2ae(); } return $vwplph268z; } function wplxnae($vwplyy0ci2 = '', $vwply17edn = '') { if (empty($vwplyy0ci2) || empty($vwply17edn) ) { return false; } unset($this->session[$vwplyy0ci2][$vwply17edn]); $this->wplal2ae(); return true; }    static function wplwsvahj($vwpllzly5b, $regen = false) {  if (! array_key_exists($vwpllzly5b, self::$users) ) { self::$users[$vwpllzly5b] = new memberium_user($vwpllzly5b, $regen); } return self::$users[$vwpllzly5b]; } static function wplui2_() { return array_keys(self::$users); } static function wplskjm86($vwpllzly5b) { unset(self::$users[$vwpllzly5b]); }    static function wplq27h($vwplmoe2 = '', $vwplph268z = '', $vwpllzly5b = 0) { $vwplmoe2 = strtolower(trim($vwplmoe2) ); $vwpllzly5b = empty($vwpllzly5b) ? get_current_user_id() : $vwpllzly5b; if ( (! $vwpllzly5b) || empty($vwplmoe2) ) { return false; } update_user_meta($vwpllzly5b, self::USER_FIELD . $vwplmoe2, $vwplph268z); } static function wpllnxp8($vwplmoe2 = '', $vwpllzly5b = false) { $vwplmoe2 = strtolower(trim($vwplmoe2) ); $vwpllzly5b = empty($vwpllzly5b) ? get_current_user_id() : $vwpllzly5b; if ( (! $vwpllzly5b) || empty($vwplmoe2) ) { return false; }  return get_user_meta($vwpllzly5b, self::USER_FIELD . $vwplmoe2, true); } static function wplfhxj9() { return isset($_SESSION['memb_user']['crm_id']) ? (int) $_SESSION['memb_user']['crm_id'] : 0; } static function wplx9wl8g($vwply17edn = '', $vwplph268z = '') { $vwply17edn = strtolower(trim($vwply17edn) ); if (empty($vwply17edn) ) { return; } $_SESSION['memb_db_fields'][$vwply17edn] = $vwplph268z; } static function wplc4na($vwply17edn = '', $vwplmkypa = '') { $vwply17edn = strtolower(trim($vwply17edn) ); $vwplph268z = isset($_SESSION['memb_db_fields'][$vwply17edn]) ? $_SESSION['memb_db_fields'][$vwply17edn] : $vwplmkypa; return $vwplph268z; } static function wpljqhiz($vwplmu62n = array(), $vwpltmveju = 0) { if (empty($vwplmu62n['FirstName']) || empty($vwplmu62n['Email']) ) { return false; } if (get_user_by('email', $vwplmu62n['Email']) || get_user_by('login', $vwplmu62n['Email']) ) { return false; } $vwplvtmqd = 0; $vwplup7mi = wplz8bid::wplvf1d('settings', 'password_field', 'Password');  if (empty($vwplmu62n[$vwplup7mi]) ) { $vwplmu62n[$vwplup7mi] = memberium_app()->wpleh1zcw(); }   if (! $vwplvtmqd) { }  if ($vwpltmveju) { }  } }
