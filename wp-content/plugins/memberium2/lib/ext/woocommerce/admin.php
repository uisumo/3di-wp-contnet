<?php
/**
 * Copyright (c) 2012-2020 David J Bullock
 * Web Power and Light
 */

 if (! defined( 'ABSPATH' ) ) { die(); } class wple_wx { private $metas = array( '_memberium_main_tag', '_memberium_canc_tag', '_memberium_payf_tag', '_memberium_susp_tag', ); function __construct() { add_filter('woocommerce_helper_suppress_admin_notices', '__return_true'); add_action('admin_init', array($this, 'wplg6u0') ); add_filter('/wpal/blocks/gutenberg/settings/omitted_blocks', array($this, 'wple9u3n') );  } function wplg6u0() { add_meta_box('memberium\woocommerce\actions','Memberium WooCommerce', array($this, 'wplsnsad1'), 'product', 'side'); add_action('save_post_product', array( $this, 'wplp7ntzh' ) ); } function wplsnsad1() { global $post; $vwplc1hq = (int) get_post_meta($post->ID, '_memberium_main_tag', true); $vwpl_coe = (int) get_post_meta($post->ID, '_memberium_canc_tag', true); $vwplxqgpn9 = (int) get_post_meta($post->ID, '_memberium_payf_tag', true); $vwplqhauq = (int) get_post_meta($post->ID, '_memberium_susp_tag', true); echo '<label for="_memberium_main_tag">', _e( "Access Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_main_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwplc1hq, '"><br /><br />'; echo '<label for="_memberium_canc_tag">', _e( "Cancel Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_canc_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwpl_coe, '"><br /><br />'; echo '<label for="_memberium_payf_tag">', _e( "Payment Failure Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_payf_tag"  class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwplxqgpn9, '"><br /><br />'; echo '<label for="_memberium_susp_tag">', _e( "Suspend/On-Hold Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_susp_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwplqhauq, '"><br /><br />'; } function wplp7ntzh($vwplcltpy) {  if ( defined( 'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) { return; } if ( ! current_user_can( 'edit_posts', $vwplcltpy ) ) { return; } if (! $vwplcltpy) { return; } foreach($this->metas as $vwply4fkhi) { if (isset($_POST[$vwply4fkhi]) ) { $_POST[$vwply4fkhi] = trim($_POST[$vwply4fkhi], ','); update_post_meta($vwplcltpy, $vwply4fkhi, $_POST[$vwply4fkhi]); } } } function wple9u3n($vwplw3l9q){ $vwplrh6c_ = array( 'woocommerce/product-best-sellers', 'woocommerce/product-categories', 'woocommerce/product-new', 'woocommerce/product-on-sale', 'woocommerce/product-top-rated' ); return wp_parse_args($vwplrh6c_, $vwplw3l9q); } }
