<?php
/**
 * Copyright (c) 2020 David J Bullock
 * Web Power and Light
 */

 if (! defined( 'ABSPATH' ) ) { die(); }  function wploxfckj(){ return wploxfckj::wplwsvahj(); }  class wploxfckj {  private function __construct() { }  static function wplwsvahj() { static $instance = null; if ( is_null($instance) ) { $instance = new self; } return $instance; }  function init(){ $active_builders = array();  if ( did_action( 'elementor/loaded' ) ) { $active_builders[] = 'elementor'; }  if ( defined( 'ET_BUILDER_PLUGIN_VERSION' ) || defined( 'ET_CORE_VERSION' ) ) { $active_builders[] = 'divi'; }  if ( class_exists( 'FLBuilder' ) ) { $active_builders[] = 'beaver_builder'; }  if ( defined('TVE_VERSION') ) { $active_builders[] = 'thrive'; }  if ( defined('WPAL_BLOCKS_GUTENBERG') ) { $active_builders[] = 'gutenberg'; } if (! empty( $active_builders ) ){ $builder_classes = $this->wpljmb4(); foreach ($active_builders as $builder_slug) { $file = trailingslashit( __DIR__ ) . $builder_slug . '/frontend.php'; if (file_exists($file) && array_key_exists($builder_slug, $builder_classes) ) { include_once $file; $builder_class = $builder_classes[$builder_slug]; $builder = new $builder_class( $builder_slug ); if (false) { echo __LINE__, ' @ ', __FUNCTION__, '<br>'; echo '$builder_class = ', $builder_class, '<br>'; echo '$file = ', $file, '<br>'; echo '<pre>$builder_classes = ', print_r($builder_classes, true), '</pre>'; echo '<pre>$builder = ', print_r($builder, true), '</pre>'; die(); } } else { if ( WPAL_BLOCKS_DEBUG ) wplfle_d::log( __FILE__, __FUNCTION__, __LINE__, 'File ' . $file . ' does not exist' ); } } } }  function wplo3d_4( $settings, $builder_slug ){  $filtered_settings = apply_filters( 'wpal/blocks/'.$builder_slug.'/element_visibility', $settings ); $defaults = array( 'tags1' => '', 'tags2' => '', 'memberships' => '', 'contact_ids' => '', 'any_membership' => 0, 'logged_in_only' => 0, 'logged_out_only' => 0, 'invert_results' => 0, 'eval' => '', 'asset_id' => '' ); $reqs = wp_parse_args( $filtered_settings, $defaults ); $reqs['contact_ids'] = ( $reqs['contact_ids'] > '' ) ? $this->wpllpcjwu($reqs['contact_ids']) : ''; $asset_id = ( $reqs['asset_id'] > '' ) ? $this->wpllpcjwu($reqs['asset_id']) : false; $show = apply_filters( 'wpal/blocks/can_access_asset', true, $reqs, $builder_slug, $asset_id ); return $show; }  function wpllpcjwu($ids){ return trim( str_replace([" ", "-", "\n", "\r", "\t"], '', $ids), ',' ); } private function wpljmb4() { return array( 'beaver_builder' => 'wplrav1uy', 'divi' => 'wplxgvyhf', 'elementor' => 'wplx0ij4', 'gutenberg' => 'wpluktip', 'thrive' => 'wpal_block_control_frontend_thrive', ); } }
