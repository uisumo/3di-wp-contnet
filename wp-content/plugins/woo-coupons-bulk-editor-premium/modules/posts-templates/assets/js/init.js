jQuery(document).ready(function(){jQuery(".wpse-duplicate-trigger").click(function(e){e.preventDefault();var t=jQuery(this).parents(".remodal");if(!t.find(".duplicate-modal-post-selector").val())return t.find(".duplicate-modal-post-selector")[0].reportValidity(),!0;window.wpseAddRowExtraData=t.find("input,select,textarea").serialize(),jQuery(".vg-toolbar .add_rows-container .number_rows").val(t.find('[name="number_of_copies"]').val()),jQuery("#addrow").click(),t.find('[name="number_of_copies"], select').val("").trigger("change"),t.remodal().close()}),jQuery('input[name="number_of_copies"]').change(function(e){75<parseInt(jQuery(this).val())&&jQuery(".remodal-duplicate .posts-templates-small-batches-message").show()}),jQuery("body").on("vgSheetEditor:afterNewRowsInsert",function(){"undefined"!=typeof wpseAddRowExtraData&&"string"==typeof wpseAddRowExtraData&&-1<wpseAddRowExtraData.indexOf("duplicate_this")&&(wpseAddRowExtraData=null)}),jQuery(document).on("opened",".remodal-duplicate",function(){var e=vgseGetSelectedIds(),t=jQuery(".remodal-duplicate");if(e.length){var o=t.find(".duplicate-modal-post-selector"),a=[];e.forEach(function(e){var t=vgse_editor_settings.post_type+"--"+e;o.find('option[value="'+t+'"]').length||o.append('<option value="'+t+'">'+vgse_editor_settings.post_type+" ID "+e+"</option>"),a.push(t)}),o.val(a).trigger("change")}})}),jQuery(document).ready(function(){if("undefined"==typeof hot||!jQuery(".remodal-duplicate").length)return!0;var e=hot.getSettings().contextMenu;void 0===e.items&&(e.items={}),e.items.wpse_duplicate_row={name:vgse_editor_settings.texts.duplicate_row,callback:function(e,t,o){if(beGetModifiedItems().length)alert(vgse_editor_settings.texts.save_changes_before_we_reload);else{var a=[],n=[];t.forEach(function(e){e.start.row<e.end.row?vgseRange(e.start.row,e.end.row).forEach(function(e){n.push(e)}):n.push(e.start.row)}),n.forEach(function(e){a[hot.getDataAtRowProp(e,"ID")]=vgseGetRowTitle(e)});var r=jQuery(".remodal-duplicate").find(".duplicate-modal-post-selector"),i=[];a.forEach(function(e,t){var o=vgse_editor_settings.post_type+"--"+t;r.find('option[value="'+o+'"]').length||r.append('<option value="'+o+'">'+e+" ("+t+")</option>"),i.push(o)}),r.val(i).trigger("change"),jQuery(".duplicate-container  button").click()}}},hot.updateSettings({contextMenu:e})});