!function(){"use strict";jQuery(document).ready((function(t){let o;if(!1!==string_locator.CodeMirror&&""!==string_locator.CodeMirror){o=wp.codeEditor.initialize("code-editor",string_locator.CodeMirror);const e=wp.template("string-locator-alert");function r(t){const o=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-89;t.setSize(null,parseInt(o))}t(".string-locator-editor").on("click",".string-locator-edit-goto",(function(e){e.preventDefault(),o.codemirror.scrollIntoView(parseInt(t(this).data("goto-line"))),o.codemirror.setCursor(parseInt(t(this).data("goto-line")-1),t(this).data("goto-linepos"))})),t("body").on("submit","#string-locator-edit-form",(function(o){const r=t("#string-locator-notices");return t.post(string_locator.url.save,t(this).serialize()).always((function(o){void 0===o.notices?r.append(e({type:"error",message:o.responseText})):t.each(o.notices,(function(){r.append(e(this))}))})),o.preventDefault(),!1})),r(o.codemirror),o.codemirror.scrollIntoView(parseInt(string_locator.goto_line)),o.codemirror.setCursor(parseInt(string_locator.goto_line-1),parseInt(string_locator.goto_linepos)),window.addEventListener("resize",r(o.codemirror))}else o=t("#code-editor"),o.css("width",t(".string-locator-edit-wrap").width()),o.css("height",parseInt(Math.max(document.documentElement.clientHeight,window.innerHeight||0)-89));t("#string-locator-notices").on("click",".notice-dismiss",(function(o){return t(this).closest(".notice").slideUp(400,"swing",(function(){t(this).remove()})),o.preventDefault(),!1}))}))}();